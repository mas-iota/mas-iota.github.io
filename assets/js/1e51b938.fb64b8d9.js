"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4876],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),s=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(n),m=r,g=u["".concat(d,".").concat(m)]||u[m]||c[m]||i;return n?a.createElement(g,o(o({ref:t},p),{},{components:n})):a.createElement(g,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5794:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const i={id:"wysiwyg-editor",title:"WYSIWYG Editor",sidebar_label:"WYSIWYG Editor",keywords:["buildfire","wysiwyg","editor","tinymce"],slug:"/wysiwyg-editor"},o=void 0,l={unversionedId:"wysiwyg-editor",id:"wysiwyg-editor",title:"WYSIWYG Editor",description:'The WYSIWYG ("What You See Is What You Get") editor allows users to add rich formatted text and images in the app widget the same way it appears on the plugin content.',source:"@site/docs/WYSIWYG-editor.md",sourceDirName:".",slug:"/wysiwyg-editor",permalink:"/docs/wysiwyg-editor",draft:!1,tags:[],version:"current",frontMatter:{id:"wysiwyg-editor",title:"WYSIWYG Editor",sidebar_label:"WYSIWYG Editor",keywords:["buildfire","wysiwyg","editor","tinymce"],slug:"/wysiwyg-editor"},sidebar:"components",previous:{title:"Toast",permalink:"/docs/toast"},next:{title:"Dialogs",permalink:"/docs/dialogs"}},d={},s=[{value:"Requirements",id:"requirements",level:2},{value:"Content",id:"content",level:3},{value:"Usage",id:"usage",level:2},{value:"Content",id:"content-1",level:3},{value:"Widget",id:"widget",level:3},{value:"Using Angular",id:"using-angular",level:3},{value:"Content",id:"content-2",level:4},{value:"Widget",id:"widget-1",level:4},{value:"Gotcha In widgets",id:"gotcha-in-widgets",level:2}],p={toc:s};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"WYSIWYG"),' ("What You See Is What You Get") editor allows users to ',(0,r.kt)("strong",{parentName:"p"},"add rich formatted text and images")," in the app widget the same way it appears on the plugin content."),(0,r.kt)("p",null,"BuildFire provides ",(0,r.kt)("strong",{parentName:"p"},"direct access")," to the ",(0,r.kt)("a",{parentName:"p",href:"https://www.tiny.cloud/docs-4x/"},"TinyMCE")," WYSIWYG editor library."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"You can use the BuildFire ",(0,r.kt)("a",{parentName:"p",href:"/docs/Datastore"},"datastore")," to persist the content and load it in the widget.")),(0,r.kt)("h2",{id:"requirements"},"Requirements"),(0,r.kt)("h3",{id:"content"},"Content"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<head>\n  \x3c!-- JS --\x3e\n  <script src="../../../../scripts/tinymce/tinymce.min.js"><\/script>\n</head>\n')),(0,r.kt)("h2",{id:"usage"},"Usage"),(0,r.kt)("h3",{id:"content-1"},"Content"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add a textarea.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<body>\n  <textarea id="wysiwygContent" name="content"></textarea>\n</body>\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Add the following javascript after having the textarea declared or updated with initial content:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'tinymce.init({\n  selector: "#wysiwygContent",\n});\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Use ",(0,r.kt)("inlineCode",{parentName:"li"},"tinymce.activeEditor.getContent()")," to get the content to save at the BuildFire datastore or your own remote location when editing is complete.")),(0,r.kt)("h3",{id:"widget"},"Widget"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add a container div.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<div id="my_container_div"></div>\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Retrieve the content and assign it to the inner html of the div.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'document.getElementById("my_container_div").innerHTML =\n  data.content.your_model_property;\n')),(0,r.kt)("p",null,"For more advanced usage please refer to ",(0,r.kt)("a",{parentName:"p",href:"https://www.tiny.cloud/docs-4x/"},"TinyMCE"),"."),(0,r.kt)("h3",{id:"using-angular"},"Using Angular"),(0,r.kt)("h4",{id:"content-2"},"Content"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add the following script tags to the head tag.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<head>\n  \x3c!-- ... --\x3e\n  <script src="../../../../scripts/tinymce/tinymce.min.js"><\/script>\n  <script src="../../../../scripts/tinymce/ui-tinymce.js"><\/script>\n</head>\n')),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Add a textarea to body with attribute ",(0,r.kt)("inlineCode",{parentName:"li"},"ui-tinymce"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<textarea\n  id="text"\n  ui-tinymce\n  ng-model="data.content.your_model_property"\n></textarea>\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Make sure that ",(0,r.kt)("inlineCode",{parentName:"li"},"ui.tinymce")," is included in your module definition.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'angular.module("textPlugin", ["ui.tinymce"]);\n')),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Save your model to the BuildFire datastore or your own remote location when editing is complete.")),(0,r.kt)("h4",{id:"widget-1"},"Widget"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add the angular strict contextual escaping service (",(0,r.kt)("inlineCode",{parentName:"li"},"$sce"),") in your controller")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},'var textPluginApp = angular.module("textPlugin", []);\ntextPluginApp.controller("textPluginCtrl", [\n  "$scope",\n  "$sce",\n  function ($scope, $sce) {},\n]);\n')),(0,r.kt)("p",null,"2- Add a container div with the ",(0,r.kt)("inlineCode",{parentName:"p"},"ng-bind-html")," attribute set to your model property"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<div ng-bind-html="data.content.your_model_property"></div>\n')),(0,r.kt)("p",null,"3- Retrieve the model and assign your model property with the angular\n",(0,r.kt)("inlineCode",{parentName:"p"},"trustAsHtml")," function"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"$scope.data.content.your_model_property = $sce.trustAsHtml(\n  $scope.data.content.your_model_property\n);\n")),(0,r.kt)("p",null,"For more advanced usage please refer to the angular directive ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/angular-ui/ui-tinymce"},"ui-tinymce")," and ",(0,r.kt)("a",{parentName:"p",href:"https://www.tiny.cloud/docs-4x/"},"TinyMCE"),"."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"gotcha-in-widgets"},"Gotcha In widgets"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"widget\\index.html")," make sure you call ",(0,r.kt)("inlineCode",{parentName:"p"},"buildfire.navigation.makeSafeLinks")," after assigning the data to your inner html for forcing the external links in your data to open up using the ",(0,r.kt)("inlineCode",{parentName:"p"},"InAppBrowser")," , ",(0,r.kt)("strong",{parentName:"p"},"otherwise it will open a link in the app itself and the user can't find a way to go back to the app")," For more advanced details please refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/Navigation#makesafelinks"},"Navigation\n(buildfire.navigation.makeSafeLinks)"),"."))}c.isMDXComponent=!0}}]);