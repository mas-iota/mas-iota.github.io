"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8295],{3905:(t,e,a)=>{a.d(e,{Zo:()=>u,kt:()=>s});var n=a(7294);function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function d(t,e){if(null==t)return{};var a,n,l=function(t,e){if(null==t)return{};var a,n,l={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(l[a]=t[a]);return l}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}var o=n.createContext({}),p=function(t){var e=n.useContext(o),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},u=function(t){var e=p(t.components);return n.createElement(o.Provider,{value:e},t.children)},k={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},m=n.forwardRef((function(t,e){var a=t.components,l=t.mdxType,r=t.originalType,o=t.parentName,u=d(t,["components","mdxType","originalType","parentName"]),m=p(a),s=l,N=m["".concat(o,".").concat(s)]||m[s]||k[s]||r;return a?n.createElement(N,i(i({ref:e},u),{},{components:a})):n.createElement(N,i({ref:e},u))}));function s(t,e){var a=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var r=a.length,i=new Array(r);i[0]=m;var d={};for(var o in e)hasOwnProperty.call(e,o)&&(d[o]=e[o]);d.originalType=t,d.mdxType="string"==typeof t?t:l,i[1]=d;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},6629:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>k,frontMatter:()=>r,metadata:()=>d,toc:()=>p});var n=a(7462),l=(a(7294),a(3905));const r={id:"datastore",title:"Datastore",sidebar_label:"Datastore",keywords:["buildfire","database","datastore"],slug:"/datastore"},i="buildfire.datastore",d={unversionedId:"datastore",id:"datastore",title:"Datastore",description:"Datastore is a framework provided in buildfire.js that allows the plugin developer to save and retrieve simple and complex data. The framework facilitates CRUD operations common to all data operations as well as searching, sorting and paging complex data.",source:"@site/docs/Datastore.md",sourceDirName:".",slug:"/datastore",permalink:"/docs/datastore",draft:!1,tags:[],version:"current",frontMatter:{id:"datastore",title:"Datastore",sidebar_label:"Datastore",keywords:["buildfire","database","datastore"],slug:"/datastore"},sidebar:"api",previous:{title:"Formatting",permalink:"/docs/formatting"},next:{title:"Datastore Dynamic Data",permalink:"/docs/datastore-dynamic-data"}},o={},p=[{value:"Methods",id:"methods",level:2},{value:'<code>get()</code> <div class="label control"></div><div class="label widget"></div>',id:"get-",level:3},{value:"<code>tag</code>",id:"tag",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result",level:4},{value:"result",id:"result",level:5},{value:"More Examples",id:"more-examples",level:4},{value:'<code>getById()</code> <div class="label control"></div><div class="label widget"></div>',id:"getbyid-",level:3},{value:"<code>id</code>",id:"id",level:4},{value:"<code>tag</code>",id:"tag-1",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-1",level:4},{value:"result",id:"result-1",level:5},{value:'<code>save()</code> <div class="label control"></div>',id:"save-",level:3},{value:"<code>obj</code>",id:"obj",level:4},{value:"<code>tag</code>",id:"tag-2",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-2",level:4},{value:"result",id:"result-2",level:5},{value:'<code>insert()</code> <div class="label control"></div>',id:"insert-",level:3},{value:"<code>obj</code>",id:"obj-1",level:4},{value:"<code>tag</code>",id:"tag-3",level:4},{value:"<code>checkDuplicate</code>",id:"checkduplicate",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-3",level:4},{value:"<code>result</code>",id:"result-3",level:5},{value:'<code>bulkInsert()</code> <div class="label control"></div>',id:"bulkinsert-",level:3},{value:"<code>obj</code>",id:"obj-2",level:4},{value:"<code>tag</code>",id:"tag-4",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-4",level:4},{value:"<code>result</code>",id:"result-4",level:5},{value:'<code>update()</code> <div class="label control"></div>',id:"update-",level:3},{value:"<code>id</code>",id:"id-1",level:4},{value:"<code>obj</code>",id:"obj-3",level:4},{value:"<code>tag</code>",id:"tag-5",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-5",level:4},{value:"<code>result</code>",id:"result-5",level:5},{value:"More Examples",id:"more-examples-1",level:4},{value:'<code>searchAndUpdate()</code> <div class="label control"></div>',id:"searchandupdate-",level:3},{value:"<code>search</code>",id:"search",level:4},{value:"<code>obj</code>",id:"obj-4",level:4},{value:"<code>tag</code>",id:"tag-6",level:4},{value:"<code>callback(err, status)</code>",id:"callbackerr-status",level:4},{value:"<code>result</code>",id:"result-6",level:5},{value:"More Examples",id:"more-examples-2",level:4},{value:'<code>delete()</code> <div class="label control"></div>',id:"delete-",level:3},{value:"<code>id</code>",id:"id-2",level:4},{value:"<code>tag</code>",id:"tag-7",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-6",level:4},{value:"More examples",id:"more-examples-3",level:4},{value:'<code>search()</code> <div class="label control"></div><div class="label widget"></div>',id:"search-",level:3},{value:"<code>options</code>",id:"options",level:4},{value:"<code>tag</code>",id:"tag-8",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-7",level:4},{value:"More examples",id:"more-examples-4",level:4},{value:'<code>onUpdate()</code> <div class="label wdiget"></div>',id:"onupdate-",level:3},{value:"<code>callback(event)</code>",id:"callbackevent",level:4},{value:"<code>allowMultipleHandlers</code>",id:"allowmultiplehandlers",level:4}],u={toc:p};function k(t){let{components:e,...a}=t;return(0,l.kt)("wrapper",(0,n.Z)({},u,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"buildfiredatastore"},(0,l.kt)("inlineCode",{parentName:"h1"},"buildfire.datastore")),(0,l.kt)("p",null,"Datastore is a framework provided in buildfire.js that allows the plugin developer to save and retrieve simple and complex data. The framework facilitates CRUD operations common to all data operations as well as searching, sorting and paging complex data.\nThis service also takes care of all server side infrastructure to unburden the developer and app owner for developing the server side components and the costs of running a server. This service is provided out of the box at no additional charge.\nThe datastore service also handles complex synchronizations between the control and widget. For example, it will notify the widget when the control has made changes to the data. It also handles caching of data and other performance enhancements.\nThe use of the datastore is completely optional. The developer may choose to communicate with his own custom api. The only caveat to keep in mind is when a plugin is in draft mode of live mode (see publish). You can work around this with publish web hooks ",(0,l.kt)("a",{parentName:"p",href:"#"},"see publish web hooks")," TODO"),(0,l.kt)("admonition",{type:"important"},(0,l.kt)("p",{parentName:"admonition"},"Datastore is intended to be used for CMS Data. It has read/write permissions on control side, and ",(0,l.kt)("strong",{parentName:"p"},"read only")," permissions on widget side. Datastore does not support indexes and is should not hold large amounts of data.")),(0,l.kt)("h2",{id:"methods"},"Methods"),(0,l.kt)("h3",{id:"get-"},(0,l.kt)("inlineCode",{parentName:"h3"},"get()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.get(tag, callback)")),(0,l.kt)("p",null,"Calls the datastore to retrieve plugin data objects in JSON format."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"If there are many objects with the same id, only one random record will be returned")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.get("main record", (err, result) => {\n  if (err) return console.error("Error while retrieving your data", err);\n  console.log("Main record", result.data);\n});\n')),(0,l.kt)("h4",{id:"tag"},(0,l.kt)("inlineCode",{parentName:"h4"},"tag")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in datastore. ex(",(0,l.kt)("inlineCode",{parentName:"td"},"settings")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"questions"),") etc."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("p",null,"Callback function after something is done"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Result object containing datastore tag and data")))),(0,l.kt)("h5",{id:"result"},"result"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"data")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Object saved in datastore under the selected tag")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object tag")))),(0,l.kt)("h4",{id:"more-examples"},"More Examples"),(0,l.kt)("p",null,"If your datastore has only one object and does not use tags, you can skip the tag argument"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.get((err, result) => {\n  if (err) return console.error(err);\n\n  console.log("Data: ", result.data);\n});\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"getbyid-"},(0,l.kt)("inlineCode",{parentName:"h3"},"getById()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.getById(id, tag, callback)")),(0,l.kt)("p",null,"Calls the datastore to retrieve plugin data object by id in JSON format."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.getById(\n  "55bfa813032868a0115c5f98",\n  "main record",\n  (err, result) => {\n    if (err) return console.error("Error while retrieving your data", err);\n    console.log("Object: ", result.data);\n  }\n);\n')),(0,l.kt)("h4",{id:"id"},(0,l.kt)("inlineCode",{parentName:"h4"},"id")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Datastore object id"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"tag-1"},(0,l.kt)("inlineCode",{parentName:"h4"},"tag")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in datastore. ex(",(0,l.kt)("inlineCode",{parentName:"td"},"settings")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"questions"),") etc."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-1"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("p",null,"Callback function after something is done"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Result object containing datastore tag and data")))),(0,l.kt)("h5",{id:"result-1"},"result"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"data")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Object saved in datastore under the selected id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object datastore tag")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"save-"},(0,l.kt)("inlineCode",{parentName:"h3"},"save()")," ",(0,l.kt)("div",{class:"label control"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.save(obj, tag, callback)")),(0,l.kt)("p",null,"This method calls the datastore to update ",(0,l.kt)("strong",{parentName:"p"},"all")," plugin data objects that have that tag. if no object is found it will create one, and does not check for duplicates"),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Data objects saved using ",(0,l.kt)("inlineCode",{parentName:"p"},"save()")," method will not get assigned ids. Data will be saved in the same format as provided.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.save(\n  { name: "John Doe", tel: "555-111-1111" },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("Error while saving your data", err);\n\n    console.log("Data saved successfully", result);\n  }\n);\n')),(0,l.kt)("h4",{id:"obj"},(0,l.kt)("inlineCode",{parentName:"h4"},"obj")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"obj")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Object to be stored in datastore"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"tag-2"},(0,l.kt)("inlineCode",{parentName:"h4"},"tag")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in datastore. ex(",(0,l.kt)("inlineCode",{parentName:"td"},"settings")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"questions"),") etc."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-2"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("p",null,"Callback function after something is done"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Result object containing datastore tag and data")))),(0,l.kt)("h5",{id:"result-2"},"result"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"data")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Object saved in datastore")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object datastore tag")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"insert-"},(0,l.kt)("inlineCode",{parentName:"h3"},"insert()")," ",(0,l.kt)("div",{class:"label control"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.insert(obj, tag, checkDuplicate, callback)")),(0,l.kt)("p",null,"Calls the datastore to insert a data object. If an object already exists with this tag and ",(0,l.kt)("inlineCode",{parentName:"p"},"checkDuplicate")," is false it will create another record otherwise it will return a duplicate entry error. Use this method to save multiple records under the same tag. Every inserted item will get unique id. You can use this id later in ",(0,l.kt)("a",{parentName:"p",href:"#"},(0,l.kt)("inlineCode",{parentName:"a"},"getById"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.insert(\n  { name: "John Doe", tel: "555-111-1111" },\n  "contactInfo",\n  false,\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Insert successful", result);\n  }\n);\n')),(0,l.kt)("h4",{id:"obj-1"},(0,l.kt)("inlineCode",{parentName:"h4"},"obj")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"obj")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Object to be stored in datastore"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"tag-3"},(0,l.kt)("inlineCode",{parentName:"h4"},"tag")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in datastore. ex(",(0,l.kt)("inlineCode",{parentName:"td"},"settings")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"questions"),") etc."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"checkduplicate"},(0,l.kt)("inlineCode",{parentName:"h4"},"checkDuplicate")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"checkDuplicate")),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"If ",(0,l.kt)("inlineCode",{parentName:"td"},"true")," it will prevent insertion of duplicate records, if ",(0,l.kt)("inlineCode",{parentName:"td"},"false")," it will allow duplicates"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))))),(0,l.kt)("h4",{id:"callbackerr-result-3"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("p",null,"Callback function after data is inserted"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Result object containing datastore tag, data and id")))),(0,l.kt)("h5",{id:"result-3"},(0,l.kt)("inlineCode",{parentName:"h5"},"result")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"data")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Object inserted in datastore")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object datastore tag")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object unique id")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"bulkinsert-"},(0,l.kt)("inlineCode",{parentName:"h3"},"bulkInsert()")," ",(0,l.kt)("div",{class:"label control"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.bulkInsert(obj, tag, callback)")),(0,l.kt)("p",null,"Calls the datastore to insert multiple data objects at once. If objects already exist with this tag it will create new records. Use this method to save multiple records with single API call."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Data objects inserted using ",(0,l.kt)("inlineCode",{parentName:"p"},"bulkInsert()")," method will not get assigned ids.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.bulkInsert(\n  [\n    { name: "John Doe", tel: "555-111-1111" },\n    { name: "Jane Doe", tel: "555-222-2222" },\n  ],\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Insert successful", result);\n  }\n);\n')),(0,l.kt)("h4",{id:"obj-2"},(0,l.kt)("inlineCode",{parentName:"h4"},"obj")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"obj")),(0,l.kt)("td",{parentName:"tr",align:null},"[object]"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Array of object to be inserted in datastore"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"tag-4"},(0,l.kt)("inlineCode",{parentName:"h4"},"tag")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in datastore. ex(",(0,l.kt)("inlineCode",{parentName:"td"},"settings")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"questions"),") etc."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-4"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("p",null,"Callback function after data is inserted"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Result object containing datastore tag, data and id")))),(0,l.kt)("h5",{id:"result-4"},(0,l.kt)("inlineCode",{parentName:"h5"},"result")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"data")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Object array inserted in datastore")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object datastore tag")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"update-"},(0,l.kt)("inlineCode",{parentName:"h3"},"update()")," ",(0,l.kt)("div",{class:"label control"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.update(id, obj, tag, callback)")),(0,l.kt)("p",null,"Calls the datastore to update the data object that matches that tag and id. If an object doesn't exist this operation will fail. Use this method to update a single record."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.update(\n  "55bfa813032868a0115c5f98", // Replace this with your object id\n  { name: "John Doe", tel: "555-111-2222" },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Update successful", result);\n  }\n);\n')),(0,l.kt)("h4",{id:"id-1"},(0,l.kt)("inlineCode",{parentName:"h4"},"id")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Datastore object id"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"obj-3"},(0,l.kt)("inlineCode",{parentName:"h4"},"obj")),(0,l.kt)("p",null,"Can be one of two options:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"The JSON object you'd like saved.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"obj")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Object to be updated in datastore. Object must contain the original ",(0,l.kt)("inlineCode",{parentName:"td"},"id")," of the object."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"A command object meant to pass ",(0,l.kt)("a",{parentName:"li",href:"/docs/data-modifying-operators"},"data modifying operators")," to the datastore to update certain properties only")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"obj")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Data modifying object."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"tag-5"},(0,l.kt)("inlineCode",{parentName:"h4"},"tag")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in datastore. ex(",(0,l.kt)("inlineCode",{parentName:"td"},"settings")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"questions"),") etc."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-5"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("p",null,"Callback function after data is inserted"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Result object containing datastore tag, data and id")))),(0,l.kt)("h5",{id:"result-5"},(0,l.kt)("inlineCode",{parentName:"h5"},"result")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"data")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Object array inserted in datastore")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object datastore tag")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object unique id")))),(0,l.kt)("h4",{id:"more-examples-1"},"More Examples"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.insert(\n  { name: "John Doe", tel: "555-111-1111" },\n  "contactInfo",\n  false,\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Insert successful", result);\n    let objectId = result.id;\n\n    buildfire.datastore.update(\n      objectId,\n      { name: "John Doe", tel: "555-111-2222" },\n      "contactInfo",\n      (err, updatedResult) => {\n        if (err) return console.error("Error while updating your data", err);\n\n        console.log("Update successful", updatedResult);\n      }\n    );\n  }\n);\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"searchandupdate-"},(0,l.kt)("inlineCode",{parentName:"h3"},"searchAndUpdate()")," ",(0,l.kt)("div",{class:"label control"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.searchAndUpdate(search, obj, tag, callback)")),(0,l.kt)("p",null,"Calls the datastore to search and update the data object that matches that tag and search query. Use this method to update a multiple records or to update spacific element on each record."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.searchAndUpdate(\n  { name: { $eq: "John Doe" } },\n  { $set: { name: "John Doe Smith" } },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error(err);\n\n    console.log(result.nModified + " records updated");\n  }\n);\n')),(0,l.kt)("h4",{id:"search"},(0,l.kt)("inlineCode",{parentName:"h4"},"search")),(0,l.kt)("p",null,"JSON object that containing the filter (search query). See ",(0,l.kt)("a",{parentName:"p",href:"/docs/search-operators"},"search operators")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"search")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Object containing data filters"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"obj-4"},(0,l.kt)("inlineCode",{parentName:"h4"},"obj")),(0,l.kt)("p",null,"Can be one of two options:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"The JSON object you'd like saved.")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"obj")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Object to be updated in datastore. Object must contain the original ",(0,l.kt)("inlineCode",{parentName:"td"},"id")," of the object."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"A command object meant to pass ",(0,l.kt)("a",{parentName:"li",href:"/docs/data-modifying-operators"},"data modifying operators")," to the datastore to update certain properties only")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"obj")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Data modifying object."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"tag-6"},(0,l.kt)("inlineCode",{parentName:"h4"},"tag")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in datastore. ex(",(0,l.kt)("inlineCode",{parentName:"td"},"settings")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"questions"),") etc."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-status"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, status)")),(0,l.kt)("p",null,"Callback function after data is inserted"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"status")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Status object")))),(0,l.kt)("h5",{id:"result-6"},(0,l.kt)("inlineCode",{parentName:"h5"},"result")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"data")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Object array inserted in datastore")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object datastore tag")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Object unique id")))),(0,l.kt)("h4",{id:"more-examples-2"},"More Examples"),(0,l.kt)("p",null,"How to update and set values inside array of the data objects"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.bulkInsert(\n  [\n    {\n      name: "John Doe",\n      tel: "555-111-1111",\n      addresses: [{ city: "San Diego" }],\n    },\n    { name: "Mike Rotch", tel: "555-222-2222" },\n  ],\n  "contactInfo",\n  (err, data) => {\n    if (err) return console.error(err);\n\n    console.log("Data inserted successfully");\n\n    buildfire.datastore.searchAndUpdate(\n      { name: "John Doe", "addresses.city": "San Diego" },\n      { $set: { "addresses.$.state": "CA" } },\n      "contactInfo",\n      (err, result) => {\n        if (err) return console.error(err);\n\n        console.log(result.nModified + " records updated");\n      }\n    );\n  }\n);\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"delete-"},(0,l.kt)("inlineCode",{parentName:"h3"},"delete()")," ",(0,l.kt)("div",{class:"label control"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.delete(id, tag, callback)")),(0,l.kt)("p",null,"Calls the datastore to delete the data object that matches that tag and object id. If an object doesn't exists this operation will fail."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.delete("YOUR_ID_HERE", "contactInfo", (err, result) => {\n  if (err) return console.error(err);\n\n  console.log("Record deleted");\n});\n')),(0,l.kt)("h4",{id:"id-2"},(0,l.kt)("inlineCode",{parentName:"h4"},"id")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"id")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Object id issued when inserting the data. Can be retrieved initially using ",(0,l.kt)("a",{parentName:"td",href:"#"},(0,l.kt)("inlineCode",{parentName:"a"},"get()"))," method."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"tag-7"},(0,l.kt)("inlineCode",{parentName:"h4"},"tag")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in datastore. ex(",(0,l.kt)("inlineCode",{parentName:"td"},"settings")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"questions"),") etc."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-6"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("p",null,"Callback function after data is inserted"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'{"status": "deleted"}'))))),(0,l.kt)("h4",{id:"more-examples-3"},"More examples"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.insert(\n  { name: "John Doe", tel: "555-111-1111" },\n  "contactInfo",\n  false,\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Insert successful", result);\n\n    buildfire.datastore.delete(result.id, "contactInfo", (err, result) => {\n      if (err) return console.error("Error while deleting your data", err);\n\n      console.log("Record deleted");\n    });\n  }\n);\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"search-"},(0,l.kt)("inlineCode",{parentName:"h3"},"search()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.search(options, tag, callback)")),(0,l.kt)("p",null,"Calls the datastore to search through objects that matches that tag and options criteria. Use this method to search through many records to pull a matching subset. This method allows complex filtering as well as sorting and pagination"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.search(\n  {\n    filter: {\n      $or: [\n        { "$json.rank": { $gt: "600", $lt: "900" } },\n        { "$json.name": "Jane Doe" },\n      ],\n    },\n    sort: { rank: 1, lastName: -1 },\n    fields: ["rank", "lastName"],\n    skip: 20,\n    limit: 10,\n  },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("there was a problem retrieving your data");\n\n    console.log("Records found: ", result);\n  }\n);\n')),(0,l.kt)("h4",{id:"options"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("p",null,"JSON object that contains the filter, sort column, pagination parameters and get total records count."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"filter")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"The format is inspired by MongoDB. While many features overlap they are not a direct match. You must add $json. as a prefix for any property you want to filter. ",(0,l.kt)("a",{parentName:"td",href:"/docs/search-operators"},"See search operators")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"sort")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Object with properties you'd like to sort on with 1 for ascending and -1 for descending"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"fields")),(0,l.kt)("td",{parentName:"tr",align:null},"[string]"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Array of fields that you'd like to get. If this option is not provided all fields will be returned"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"recordCount")),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"If true the result will return the object with ",(0,l.kt)("inlineCode",{parentName:"td"},"totalRecord")," number and a ",(0,l.kt)("inlineCode",{parentName:"td"},"result")," array"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"page")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Page you want to retrieve. Should be used in combination with ",(0,l.kt)("inlineCode",{parentName:"td"},"pageSize")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"0"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"pageSize")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of records per ",(0,l.kt)("inlineCode",{parentName:"td"},"page"),", the max value is ",(0,l.kt)("strong",{parentName:"td"},"50"),"."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"50"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"skip")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of record that you need to skip. Should be used with ",(0,l.kt)("inlineCode",{parentName:"td"},"limit")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"0"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"limit")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of records for this call, the max value is ",(0,l.kt)("strong",{parentName:"td"},"50"),"."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"50"))))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"For pagination you can either use ",(0,l.kt)("inlineCode",{parentName:"p"},"page")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"pageSize")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"skip")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"limit"),", but not both at the same time")),(0,l.kt)("h4",{id:"tag-8"},(0,l.kt)("inlineCode",{parentName:"h4"},"tag")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"tag")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in datastore. ex(",(0,l.kt)("inlineCode",{parentName:"td"},"settings")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"questions"),") etc."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-7"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("p",null,"Callback function after data is inserted"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"[object]"," or object"),(0,l.kt)("td",{parentName:"tr",align:null},"If ",(0,l.kt)("inlineCode",{parentName:"td"},"recordCount")," flag is true, the result is object with ",(0,l.kt)("inlineCode",{parentName:"td"},"totalRecord")," number and ",(0,l.kt)("inlineCode",{parentName:"td"},"result")," array, otherwise it's array of fetched objects")))),(0,l.kt)("h4",{id:"more-examples-4"},"More examples"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.search(\n  {\n    filter: {\n      $or: [\n        { "$json.rank": { $gt: "600", $lt: "900" } },\n        { "$json.name": "Jane Doe" },\n      ],\n    },\n    sort: { rank: 1, lastName: -1 },\n    fields: ["rank", "lastName"],\n    page: "0",\n    pageSize: "10",\n  },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("there was a problem retrieving your data");\n\n    console.log("Found " + result.length + " record(s)");\n    console.log(("Records": result));\n  }\n);\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.datastore.search(\n  {\n    filter: {\n      $or: [\n        { "$json.rank": { $gt: "600", $lt: "900" } },\n        { "$json.name": "Jane Doe" },\n      ],\n    },\n    sort: { rank: 1, lastName: -1 },\n    fields: ["rank", "lastName"],\n    skip: 20,\n    limit: 10,\n    recordCount: true,\n  },\n  "contactInfo",\n  (err, data) => {\n    if (err) return console.error("there was a problem retrieving your data");\n\n    console.log("Total records " + data.totalRecord + " record(s)");\n    console.log("Current records " + data.result.length + " record(s)");\n  }\n);\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"onupdate-"},(0,l.kt)("inlineCode",{parentName:"h3"},"onUpdate()")," ",(0,l.kt)("div",{class:"label wdiget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.datastore.onUpdate(callback, allowMultipleHandlers)")),(0,l.kt)("p",null,"Allows you to pass a callback function that is called whenever the control updates data in the datastore. Use this method in the widget to be notified that the control made a change so you can reflect that change directly in the widget. Returns a cleanup function to clear the listener."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'let onUpdate = buildfire.datastore.onUpdate((event) => {\n  console.log("Data has been updated ", event);\n});\n\n// when you want to stop listening\n// onUpdate.clear();\n')),(0,l.kt)("h4",{id:"callbackevent"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(event)")),(0,l.kt)("p",null,"Function you pass that gets called on each datastore update"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"event")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"Updated datastore records")))),(0,l.kt)("h4",{id:"allowmultiplehandlers"},(0,l.kt)("inlineCode",{parentName:"h4"},"allowMultipleHandlers")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"allowMultipleHandlers")),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Tells the method to override all other handlers, or allow multiple handlers to exist at the same time."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))))))}k.isMDXComponent=!0}}]);