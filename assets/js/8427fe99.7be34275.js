(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{123:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return b})),a.d(t,"metadata",(function(){return i})),a.d(t,"toc",(function(){return c})),a.d(t,"default",(function(){return p}));var n=a(3),r=a(8),l=(a(0),a(176)),b={id:"app-data",title:"App Data",sidebar_label:"App Data",description:"App Data: Share Data Between Plugins",keywords:["buildfire","app","data"],slug:"/app-data"},i={unversionedId:"app-data",id:"app-data",isDocsHomePage:!1,title:"App Data",description:"App Data: Share Data Between Plugins",source:"@site/docs/App-Data.md",slug:"/app-data",permalink:"/docs/app-data",version:"current",sidebar_label:"App Data",sidebar:"api",previous:{title:"Public Data",permalink:"/docs/public-data"},next:{title:"Indexed Fields",permalink:"/docs/indexed-fields"}},c=[{value:"Methods",id:"methods",children:[{value:'<code>get()</code> <div class="label control"></div><div class="label widget"></div>',id:"get",children:[]},{value:'<code>getById()</code> <div class="label control"></div><div class="label widget"></div>',id:"getbyid",children:[]},{value:'<code>save()</code> <div class="label widget"></div>',id:"save",children:[]},{value:'<code>insert()</code> <div class="label widget"></div>',id:"insert",children:[]},{value:'<code>bulkInsert()</code> <div class="label widget"></div>',id:"bulkinsert",children:[]},{value:'<code>update()</code> <div class="label widget"></div>',id:"update",children:[]},{value:'<code>searchAndUpdate()</code> <div class="label widget"></div>',id:"searchandupdate",children:[]},{value:'<code>delete()</code> <div class="label widget"></div>',id:"delete",children:[]},{value:'<code>search()</code> <div class="label control"></div><div class="label widget"></div>',id:"search-1",children:[]},{value:'<code>aggregate()</code> <div class="label control"></div><div class="label widget"></div>',id:"aggregate",children:[]},{value:'<code>onUpdate()</code> <div class="label wdiget"></div>',id:"onupdate",children:[]}]}],d={toc:c};function p(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"buildfireappdata"},Object(l.b)("inlineCode",{parentName:"h1"},"buildfire.appData")),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"appData")," is a framework provided in ",Object(l.b)("inlineCode",{parentName:"p"},"buildfire.js")," that allows the app user and app owner to save and retrieve simple and complex data. The framework facilitates CRUD operations common to all data operations as well as searching, sorting and paging complex data."),Object(l.b)("p",null,"App Data differs from ",Object(l.b)("a",{parentName:"p",href:"/docs/public-data"},Object(l.b)("inlineCode",{parentName:"a"},"publicData")),", ",Object(l.b)("a",{parentName:"p",href:"/docs/user-data"},Object(l.b)("inlineCode",{parentName:"a"},"userData")),", and ",Object(l.b)("a",{parentName:"p",href:"/docs/datastore"},Object(l.b)("inlineCode",{parentName:"a"},"datastore"))," in that it allows plugins within the same app to share data in a clean, consistent, and reliable way."),Object(l.b)("p",null,"This service also takes care of all server side infrastructure to unburden the developer and app owner for developing the server side components and the costs of running a server. This service is provided out of the box at no additional charge."),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"appData")," service also handles caching of data and other performance enhancements."),Object(l.b)("p",null,"The use of the ",Object(l.b)("inlineCode",{parentName:"p"},"appData")," is completely optional. The developer may choose to communicate with his own custom api."),Object(l.b)("div",{className:"admonition admonition-important alert alert--info"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},Object(l.b)("inlineCode",{parentName:"p"},"appData")," has read/write permissions on widget and control side. ",Object(l.b)("inlineCode",{parentName:"p"},"appData")," is data that is saved from the widget or control and it's accessable to all users on all plugins."))),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"If you want to work with ",Object(l.b)("strong",{parentName:"p"},"Geospatial")," data check ",Object(l.b)("a",{parentName:"p",href:"/docs/geodata"},"GeoData Wiki")))),Object(l.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"To support high performance search and sort query check ",Object(l.b)("a",{parentName:"p",href:"/docs/indexed-fields"},"Indexed Fields")))),Object(l.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"You can see an example of using User Data in ",Object(l.b)("a",{parentName:"p",href:"https://github.com/BuildFire/simpleBuildFireJSExamples/tree/master/exampleWidgetUserDataPlugin"},"https://github.com/BuildFire/simpleBuildFireJSExamples/tree/master/exampleWidgetUserDataPlugin")))),Object(l.b)("h2",{id:"methods"},"Methods"),Object(l.b)("h3",{id:"get"},Object(l.b)("inlineCode",{parentName:"h3"},"get()")," ",Object(l.b)("div",{class:"label control"}),Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.get(tag, callback)")),Object(l.b)("p",null,"Calls the appData to retrieve plugin data objects in JSON format."),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"If there are many objects with the same id, only one random record will be returned"))),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.get("main record", (err, result) => {\n  if (err) return console.error("Error while retrieving your data", err);\n  console.log("Main record", result.data);\n});\n')),Object(l.b)("h4",{id:"tag"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-result"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function after something is done"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Result object containing appData tag and data")))),Object(l.b)("h5",{id:"result"},"result"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"data")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Object saved in appData under the selected tag")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object tag")))),Object(l.b)("h4",{id:"more-examples"},"More Examples"),Object(l.b)("p",null,"If your appData has only one object and does not use tags, you can skip the tag argument"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.get((err, result) => {\n  if (err) return console.error(err);\n\n  console.log("Data: ", result.data);\n});\n')),Object(l.b)("hr",null),Object(l.b)("h3",{id:"getbyid"},Object(l.b)("inlineCode",{parentName:"h3"},"getById()")," ",Object(l.b)("div",{class:"label control"}),Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.getById(id, tag, callback)")),Object(l.b)("p",null,"Calls the appData to retrieve plugin data object by id in JSON format."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.getById(\n  "55bfa813032868a0115c5f98",\n  "main record",\n  (err, result) => {\n    if (err) return console.error("Error while retrieving your data", err);\n    console.log("Object: ", result.data);\n  }\n);\n')),Object(l.b)("h4",{id:"id"},Object(l.b)("inlineCode",{parentName:"h4"},"id")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"id")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Datastore object id"),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"tag-1"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-result-1"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function after something is done"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Result object containing appData tag and data")))),Object(l.b)("h5",{id:"result-1"},"result"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"data")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Object saved in appData under the selected id")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object appData tag")))),Object(l.b)("hr",null),Object(l.b)("h3",{id:"save"},Object(l.b)("inlineCode",{parentName:"h3"},"save()")," ",Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.save(obj, tag, callback)")),Object(l.b)("p",null,"This method calls the appData to update ",Object(l.b)("strong",{parentName:"p"},"all")," plugin data objects that have that tag. if no object is found it will create one, and does not check for duplicates"),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Data objects saved using ",Object(l.b)("inlineCode",{parentName:"p"},"save()")," method will not get assigned ids. Data will be saved in the same format as provided."))),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.save(\n  { name: "John Doe", tel: "555-111-1111" },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("Error while saving your data", err);\n\n    console.log("Data saved successfully", result);\n  }\n);\n')),Object(l.b)("h4",{id:"obj"},Object(l.b)("inlineCode",{parentName:"h4"},"obj")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"obj")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Object to be stored in appData"),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"tag-2"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-result-2"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function after something is done"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Result object containing appData tag and data")))),Object(l.b)("h5",{id:"result-2"},"result"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"data")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Object saved in appData")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object appData tag")))),Object(l.b)("hr",null),Object(l.b)("h3",{id:"insert"},Object(l.b)("inlineCode",{parentName:"h3"},"insert()")," ",Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.insert(obj, tag, checkDuplicate, callback)")),Object(l.b)("p",null,"Calls the appData to insert a data object. If an object already exists with this tag and ",Object(l.b)("inlineCode",{parentName:"p"},"checkDuplicate")," is false it will create another record otherwise it will return a duplicate entry error. Use this method to save multiple records under the same tag. Every inserted item will get unique id. You can use this id later in ",Object(l.b)("a",{parentName:"p",href:"#"},Object(l.b)("inlineCode",{parentName:"a"},"getById"))),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.insert(\n  { name: "John Doe", tel: "555-111-1111" },\n  "contactInfo",\n  false,\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Insert successful", result);\n  }\n);\n')),Object(l.b)("h4",{id:"obj-1"},Object(l.b)("inlineCode",{parentName:"h4"},"obj")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"obj")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Object to be stored in appData"),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"tag-3"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"checkduplicate"},Object(l.b)("inlineCode",{parentName:"h4"},"checkDuplicate")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"checkDuplicate")),Object(l.b)("td",{parentName:"tr",align:null},"boolean"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"If ",Object(l.b)("inlineCode",{parentName:"td"},"true")," it will prevent insertion of duplicate records, if ",Object(l.b)("inlineCode",{parentName:"td"},"false")," it will allow duplicates"),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"false"))))),Object(l.b)("h4",{id:"callbackerr-result-3"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function after data is inserted"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Result object containing appData tag, data and id")))),Object(l.b)("h5",{id:"result-3"},Object(l.b)("inlineCode",{parentName:"h5"},"result")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"data")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Object inserted in appData")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object appData tag")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"id")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object unique id")))),Object(l.b)("hr",null),Object(l.b)("h3",{id:"bulkinsert"},Object(l.b)("inlineCode",{parentName:"h3"},"bulkInsert()")," ",Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.bulkInsert(obj, tag, callback)")),Object(l.b)("p",null,"Calls the appData to insert multiple data objects at once. If objects already exist with this tag it will create new records. Use this method to save multiple records with single API call."),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Data objects inserted using ",Object(l.b)("inlineCode",{parentName:"p"},"bulkInsert()")," method will not get assigned ids."))),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.bulkInsert(\n  [\n    { name: "John Doe", tel: "555-111-1111" },\n    { name: "Jane Doe", tel: "555-222-2222" },\n  ],\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Insert successful", result);\n  }\n);\n')),Object(l.b)("h4",{id:"obj-2"},Object(l.b)("inlineCode",{parentName:"h4"},"obj")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"obj")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Array of object to be inserted in appData"),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"tag-4"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-result-4"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function after data is inserted"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Result object containing appData tag, data and id")))),Object(l.b)("h5",{id:"result-4"},Object(l.b)("inlineCode",{parentName:"h5"},"result")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"data")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Object array inserted in appData")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object appData tag")))),Object(l.b)("hr",null),Object(l.b)("h3",{id:"update"},Object(l.b)("inlineCode",{parentName:"h3"},"update()")," ",Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.update(id, obj, tag, callback)")),Object(l.b)("p",null,"Calls the appData to update the data object that matches that tag and id. If an object doesn't exist this operation will fail. Use this method to update a single record."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.update(\n  "55bfa813032868a0115c5f98", // Replace this with your object id\n  { name: "John Doe", tel: "555-111-2222" },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Update successful", result);\n  }\n);\n')),Object(l.b)("h4",{id:"id-1"},Object(l.b)("inlineCode",{parentName:"h4"},"id")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"id")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Datastore object id"),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"obj-3"},Object(l.b)("inlineCode",{parentName:"h4"},"obj")),Object(l.b)("p",null,"Can be one of two options:"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"The JSON object you'd like saved.")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"obj")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Object to be updated in appData. Object must contain the original ",Object(l.b)("inlineCode",{parentName:"td"},"id")," of the object."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("ol",{start:2},Object(l.b)("li",{parentName:"ol"},"A command object meant to pass ",Object(l.b)("a",{parentName:"li",href:"/docs/data-modifying-operators"},"data modifying operators")," to the appData to update certain properties only")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"obj")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Data modifying object."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"tag-5"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-result-5"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function after data is inserted"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Result object containing appData tag, data and id")))),Object(l.b)("h5",{id:"result-5"},Object(l.b)("inlineCode",{parentName:"h5"},"result")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"data")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Object array inserted in appData")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object appData tag")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"id")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object unique id")))),Object(l.b)("h4",{id:"more-examples-1"},"More Examples"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.insert(\n  { name: "John Doe", tel: "555-111-1111" },\n  "contactInfo",\n  false,\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Insert successful", result);\n    let objectId = result.id;\n\n    buildfire.appData.update(\n      objectId,\n      { name: "John Doe", tel: "555-111-2222" },\n      "contactInfo",\n      (err, updatedResult) => {\n        if (err) return console.error("Error while updating your data", err);\n\n        console.log("Update successful", updatedResult);\n      }\n    );\n  }\n);\n')),Object(l.b)("hr",null),Object(l.b)("h3",{id:"searchandupdate"},Object(l.b)("inlineCode",{parentName:"h3"},"searchAndUpdate()")," ",Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.searchAndUpdate(search, obj, tag, callback)")),Object(l.b)("p",null,"Calls the appData to search and update the data object that matches that tag and search query. Use this method to update a multiple records or to update spacific element on each record."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.searchAndUpdate(\n  { name: { $eq: "John Doe" } },\n  { $set: { name: "John Doe Smith" } },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error(err);\n\n    console.log(result.nModified + " records updated");\n  }\n);\n')),Object(l.b)("h4",{id:"search"},Object(l.b)("inlineCode",{parentName:"h4"},"search")),Object(l.b)("p",null,"JSON object that containing the filter (search query). See ",Object(l.b)("a",{parentName:"p",href:"/docs/search-operators"},"search operators")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"search")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Object containing data filters"),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"obj-4"},Object(l.b)("inlineCode",{parentName:"h4"},"obj")),Object(l.b)("p",null,"Can be one of two options:"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"The JSON object you'd like saved.")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"obj")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Object to be updated in appData. Object must contain the original ",Object(l.b)("inlineCode",{parentName:"td"},"id")," of the object."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("ol",{start:2},Object(l.b)("li",{parentName:"ol"},"A command object meant to pass ",Object(l.b)("a",{parentName:"li",href:"/docs/data-modifying-operators"},"data modifying operators")," to the appData to update certain properties only")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"obj")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Data modifying object."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"tag-6"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-status"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, status)")),Object(l.b)("p",null,"Callback function after data is inserted"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"status")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Status object")))),Object(l.b)("h5",{id:"result-6"},Object(l.b)("inlineCode",{parentName:"h5"},"result")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"data")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Object array inserted in appData")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object appData tag")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"id")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Object unique id")))),Object(l.b)("h4",{id:"more-examples-2"},"More Examples"),Object(l.b)("p",null,"How to update and set values inside array of the data objects"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.bulkInsert(\n  [\n    {\n      name: "John Doe",\n      tel: "555-111-1111",\n      addresses: [{ city: "San Diego" }],\n    },\n    { name: "Mike Rotch", tel: "555-222-2222" },\n  ],\n  "contactInfo",\n  (err, data) => {\n    if (err) return console.error(err);\n\n    console.log("Data inserted successfully");\n\n    buildfire.appData.searchAndUpdate(\n      { name: "John Doe", "addresses.city": "San Diego" },\n      { $set: { "addresses.$.state": "CA" } },\n      "contactInfo",\n      (err, result) => {\n        if (err) return console.error(err);\n\n        console.log(result.nModified + " records updated");\n      }\n    );\n  }\n);\n')),Object(l.b)("hr",null),Object(l.b)("h3",{id:"delete"},Object(l.b)("inlineCode",{parentName:"h3"},"delete()")," ",Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.delete(id, tag, callback)")),Object(l.b)("p",null,"Calls the appData to delete the data object that matches that tag and object id. If an object doesn't exists this operation will fail."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.delete("YOUR_ID_HERE", "contactInfo", (err, result) => {\n  if (err) return console.error(err);\n\n  console.log("Record deleted");\n});\n')),Object(l.b)("h4",{id:"id-2"},Object(l.b)("inlineCode",{parentName:"h4"},"id")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"id")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Object id issued when inserting the data. Can be retrieved initially using ",Object(l.b)("a",{parentName:"td",href:"#"},Object(l.b)("inlineCode",{parentName:"a"},"get()"))," method."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"tag-7"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-result-6"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function after data is inserted"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},'{"status": "deleted"}'))))),Object(l.b)("h4",{id:"more-examples-3"},"More examples"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.insert(\n  { name: "John Doe", tel: "555-111-1111" },\n  "contactInfo",\n  false,\n  (err, result) => {\n    if (err) return console.error("Error while inserting your data", err);\n\n    console.log("Insert successful", result);\n\n    buildfire.appData.delete(result.id, "contactInfo", (err, result) => {\n      if (err) return console.error("Error while deleting your data", err);\n\n      console.log("Record deleted");\n    });\n  }\n);\n')),Object(l.b)("hr",null),Object(l.b)("h3",{id:"search-1"},Object(l.b)("inlineCode",{parentName:"h3"},"search()")," ",Object(l.b)("div",{class:"label control"}),Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.search(options, tag, callback)")),Object(l.b)("p",null,"Calls the appData to search through objects that matches that tag and options criteria. Use this method to search through many records to pull a matching subset. This method allows complex filtering as well as sorting and pagination"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.search(\n  {\n    filter: {\n      $or: [\n        { "$json.rank": { $gt: "600", $lt: "900" } },\n        { "$json.name": "Jane Doe" },\n      ],\n    },\n    sort: { rank: 1, lastName: -1 },\n    fields: ["rank", "lastName"],\n    skip: 20,\n    limit: 10,\n  },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("there was a problem retrieving your data");\n\n    console.log("Records found: ", result);\n  }\n);\n')),Object(l.b)("h4",{id:"options"},Object(l.b)("inlineCode",{parentName:"h4"},"options")),Object(l.b)("p",null,"JSON object that contains the filter, sort column, pagination parameters and get total records count."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"filter")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"The format is inspired by MongoDB. While many features overlap they are not a direct match. You must add $json. as a prefix for any property you want to filter. ",Object(l.b)("a",{parentName:"td",href:"/docs/search-operators"},"See search operators")),Object(l.b)("td",{parentName:"tr",align:null})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"sort")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Object with properties you'd like to sort on with 1 for ascending and -1 for descending"),Object(l.b)("td",{parentName:"tr",align:null})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"fields")),Object(l.b)("td",{parentName:"tr",align:null},"[string]"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Array of fields that you'd like to get. If this option is not provided all fields will be returned"),Object(l.b)("td",{parentName:"tr",align:null})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"recordCount")),Object(l.b)("td",{parentName:"tr",align:null},"boolean"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"If true the result will return the object with ",Object(l.b)("inlineCode",{parentName:"td"},"totalRecord")," number and a ",Object(l.b)("inlineCode",{parentName:"td"},"result")," array"),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"false"))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"page")),Object(l.b)("td",{parentName:"tr",align:null},"number"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Page you want to retrieve. Should be used in combination with ",Object(l.b)("inlineCode",{parentName:"td"},"pageSize")),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"0"))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"pageSize")),Object(l.b)("td",{parentName:"tr",align:null},"number"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Number of records per ",Object(l.b)("inlineCode",{parentName:"td"},"page"),", the max value is ",Object(l.b)("strong",{parentName:"td"},"50"),"."),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"50"))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"skip")),Object(l.b)("td",{parentName:"tr",align:null},"number"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Number of record that you need to skip. Should be used with ",Object(l.b)("inlineCode",{parentName:"td"},"limit")),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"0"))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"limit")),Object(l.b)("td",{parentName:"tr",align:null},"number"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Number of records for this call, the max value is ",Object(l.b)("strong",{parentName:"td"},"50"),"."),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"50"))))),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"For pagination you can either use ",Object(l.b)("inlineCode",{parentName:"p"},"page")," and ",Object(l.b)("inlineCode",{parentName:"p"},"pageSize")," or ",Object(l.b)("inlineCode",{parentName:"p"},"skip")," and ",Object(l.b)("inlineCode",{parentName:"p"},"limit"),", but not both at the same time"))),Object(l.b)("h4",{id:"tag-8"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-result-7"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function after data is inserted"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"," or object"),Object(l.b)("td",{parentName:"tr",align:null},"If ",Object(l.b)("inlineCode",{parentName:"td"},"recordCount")," flag is true, the result is object with ",Object(l.b)("inlineCode",{parentName:"td"},"totalRecord")," number and ",Object(l.b)("inlineCode",{parentName:"td"},"result")," array, otherwise it's array of fetched objects")))),Object(l.b)("h4",{id:"more-examples-4"},"More examples"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.search(\n  {\n    filter: {\n      $or: [\n        { "$json.rank": { $gt: "600", $lt: "900" } },\n        { "$json.name": "Jane Doe" },\n      ],\n    },\n    sort: { rank: 1, lastName: -1 },\n    fields: ["rank", "lastName"],\n    page: "0",\n    pageSize: "10",\n  },\n  "contactInfo",\n  (err, result) => {\n    if (err) return console.error("there was a problem retrieving your data");\n\n    console.log("Found " + result.length + " record(s)");\n    console.log(("Records": result));\n  }\n);\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.search(\n  {\n    filter: {\n      $or: [\n        { "$json.rank": { $gt: "600", $lt: "900" } },\n        { "$json.name": "Jane Doe" },\n      ],\n    },\n    sort: { rank: 1, lastName: -1 },\n    fields: ["rank", "lastName"],\n    skip: 20,\n    limit: 10,\n    recordCount: true,\n  },\n  "contactInfo",\n  (err, data) => {\n    if (err) return console.error("there was a problem retrieving your data");\n\n    console.log("Total records " + data.totalRecord + " record(s)");\n    console.log("Current records " + data.result.length + " record(s)");\n  }\n);\n')),Object(l.b)("hr",null),Object(l.b)("h3",{id:"aggregate"},Object(l.b)("inlineCode",{parentName:"h3"},"aggregate()")," ",Object(l.b)("div",{class:"label control"}),Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.aggregate(params, tag, callback)")),Object(l.b)("p",null,"Calls the appData to run aggregation pipeline that allow us to analyze documents data in real time and return computed results based on pipeline stages, which we can create an aggregation pipeline that consists of one or more stages. Each stage transforms the documents and passes the output to the next stage."),Object(l.b)("p",null,"The aggregation pipeline provide results like the ",Object(l.b)("inlineCode",{parentName:"p"},"total number")," of documents, ",Object(l.b)("inlineCode",{parentName:"p"},"sum"),", ",Object(l.b)("inlineCode",{parentName:"p"},"average"),", ",Object(l.b)("inlineCode",{parentName:"p"},"maximum")," and ",Object(l.b)("inlineCode",{parentName:"p"},"minimum")," values for objects that matches that tag and pipeline stages."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.aggregate(\n  {\n    pipelineStages: [\n      { $match: { \n         "_buildfire.index.string1": \'fba5d2bc-f880-4bd9-ad7e-c6c48d846f9b\'\n         "status": "success",\n        } \n      },\n      { $group: { _id: null, avgScore: { $avg: "$score" } } }\n    ],\n    skip: 0,\n    limit: 10,\n  },\n  "course_students",\n  (err, result) => {\n    if (err) return console.error("there was a problem aggregating your data");\n\n    console.log(" aggregation results: ", result);\n    /*\n      result\n      [\n         {_id: null, avgScore: 75.4}\n      ]\n    */\n  }\n);\n')),Object(l.b)("h4",{id:"params"},Object(l.b)("inlineCode",{parentName:"h4"},"params")),Object(l.b)("p",null,"JSON object that contains the pipelineStages, pagination parameters."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"pipelineStages")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Array of objects represent the pipeline stages. The format is inspired by MongoDB Aggregation. Read more about ",Object(l.b)("a",{parentName:"td",href:"/docs/aggregation"},"Aggregation Pipeline Stages")),Object(l.b)("td",{parentName:"tr",align:null})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"page")),Object(l.b)("td",{parentName:"tr",align:null},"number"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Page you want to retrieve. Should be used in combination with ",Object(l.b)("inlineCode",{parentName:"td"},"pageSize")),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"0"))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"pageSize")),Object(l.b)("td",{parentName:"tr",align:null},"number"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Number of records per ",Object(l.b)("inlineCode",{parentName:"td"},"page"),", the max value is ",Object(l.b)("strong",{parentName:"td"},"50"),"."),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"50"))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"skip")),Object(l.b)("td",{parentName:"tr",align:null},"number"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Number of record that you need to skip. Should be used with ",Object(l.b)("inlineCode",{parentName:"td"},"limit")),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"0"))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"limit")),Object(l.b)("td",{parentName:"tr",align:null},"number"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Number of records for this call, the max value is ",Object(l.b)("strong",{parentName:"td"},"50"),"."),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"50"))))),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"For pagination you can either use ",Object(l.b)("inlineCode",{parentName:"p"},"page")," and ",Object(l.b)("inlineCode",{parentName:"p"},"pageSize")," or ",Object(l.b)("inlineCode",{parentName:"p"},"skip")," and ",Object(l.b)("inlineCode",{parentName:"p"},"limit"),", but not both at the same time."))),Object(l.b)("h4",{id:"tag-9"},Object(l.b)("inlineCode",{parentName:"h4"},"tag")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Key used to differentiate your content saved in appData. ex(",Object(l.b)("inlineCode",{parentName:"td"},"settings")," or ",Object(l.b)("inlineCode",{parentName:"td"},"questions"),") etc."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-result-8"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function after data is retrieved"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of objects contain your aggregation results")))),Object(l.b)("h4",{id:"more-examples-5"},"More examples"),Object(l.b)("p",null,"The examples use a collection named articles with the following documents:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "_id": \'\',\n  "data": { \n    "author" : "dave",\n    "score" : 80,\n    "views" : 100,\n    "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\',\n    "buildfire": {\n      "index": {\n        "string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\'\n      }\n    }\n  },\n  "createdOn": \'2021-10-10T22:49:19.623Z\'\n}\n{\n  "_id": \'\',\n  "data": { \n    "author" : "dave",\n    "score" : 85,\n    "views" : 521,\n    "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\',\n    "buildfire": {\n      "index": {\n        "string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\'\n      }\n    }\n  },\n  "createdOn": \'2021-10-10T22:49:19.623Z\'\n}\n{\n  "_id": \'\',\n  "data": { \n    "author" : "max",\n    "score" : 60,\n    "views" : 1000,\n    "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\',\n    "buildfire": {\n      "index": {\n        "string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\'\n      }\n    }\n  },\n  "createdOn": \'2021-10-10T22:49:19.623Z\'\n}\n{\n  "_id": \'\',\n  "data": { \n    "author" : "moe",\n    "score" : 55,\n    "views" : 5000,\n    "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\',\n    "buildfire": {\n      "index": {\n        "string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\'\n      }\n    }\n  },\n  "createdOn": \'2021-10-10T22:49:19.623Z\'\n}\n{\n  "_id": \'\',\n  "data": { \n    "author" : "chris",\n    "score" : 60,\n    "views" : 50,\n    "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\',\n    "buildfire": {\n      "index": {\n        "string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\'\n      }\n    }\n  },\n  "createdOn": \'2021-10-10T22:49:19.623Z\'\n}\n{\n  "_id": \'\',\n  "data": { \n    "author" : "moe",\n    "score" : 94,\n    "views" : 999,\n    "buildfire": {\n      "index": {\n        "string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\'\n      }\n    }\n  },\n  "createdOn": \'2021-10-10T22:49:19.623Z\'\n}\n{\n  "_id": \'\',\n  "data": { \n    "author" : "julia",\n    "score" : 95,\n    "views" : 1000,\n    "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\',\n    "buildfire": {\n      "index": {\n        "string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\'\n      }\n    }\n  },\n  "createdOn": \'2021-10-10T22:49:19.623Z\'\n}\n')),Object(l.b)("h5",{id:"equality-match"},"Equality Match"),Object(l.b)("p",null,"The following operation uses ",Object(l.b)("inlineCode",{parentName:"p"},"$match")," stage to perform a simple equality match:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.aggregate(\n  {\n    pipelineStages: [\n      { $match : { "author" : "dave", "_buildfire.index.string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\' } }\n    ],\n    skip: 0,\n    limit: 20\n  },\n  "articles", (err, result) => {\n    if (err) return console.error("there was a problem retrieving your data");\n    // result\n    /* \n    [ {\n      _id: \'\',\n      data: { \n        "author" : "dave",\n        "score" : 80,\n        "views" : 100,\n        "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\',\n        "_buildfire": {\n          "index": {\n            "string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\'\n          }\n        }\n      },\n      createdOn: \'2021-10-10T22:49:19.623Z\'\n    },\n    {\n      _id: \'\',\n      data: { \n        "author" : "dave",\n        "score" : 85,\n        "views" : 521,\n        "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\',\n        "_buildfire": {\n          "index": {\n            "string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\'\n          }\n        }\n      },\n      createdOn: \'2021-10-10T22:49:19.623Z\'\n    }\n    ]\n    */\n  }\n);\n')),Object(l.b)("p",null,"The ",Object(l.b)("inlineCode",{parentName:"p"},"$match"),' selects the documents where _buildfire.index.string1 equal "e1efdf3a-a8a5-4c5a-8404-005c4b84b510" and  the author field equals "dave", and the aggregation returns the following:'),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},' [\n    { "author" : "dave", "score" : 80, "views" : 100, "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\', }\n    { "author" : "dave", "score" : 85, "views" : 521, "userId": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\', }\n ]\n')),Object(l.b)("h5",{id:"perform-a-count"},"Perform a Count"),Object(l.b)("p",null,"The following example selects documents to process using the ",Object(l.b)("inlineCode",{parentName:"p"},"$match")," pipeline operator and then pipes the results to the ",Object(l.b)("inlineCode",{parentName:"p"},"$group")," pipeline operator to compute a count of the documents:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.aggregate(\n  {\n    pipelineStages: [\n      { $match: { \n        "_buildfire.index.string1": \'e1efdf3a-a8a5-4c5a-8404-005c4b84b510\',\n        $or: [ { "score": { $gt: 70, $lt: 90 } }, { "views": { $gte: 1000 } } ] }\n      },\n      { $group: { _id: null, totalCount: { $sum: 1 } } }\n    ],\n    page: 0,\n    pageSize: 10\n  },\n  "articles",\n  (err, result) => {\n\n    // result\n    /* \n    [\n      { "_id" : null, "totalCount" : 5 }\n    ]\n    */\n  }\n);\n')),Object(l.b)("p",null,"In the aggregation pipeline, ",Object(l.b)("inlineCode",{parentName:"p"},"$match"),' selects the documents where _buildfire.index.string1 equal "e1efdf3a-a8a5-4c5a-8404-005c4b84b510" and either the score is greater than 70 and less than 90 or the views is greater than or equal to 1000. These documents are then piped to the ',Object(l.b)("inlineCode",{parentName:"p"},"$group")," to perform a count.\nThe aggregation returns the following:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'  [\n    { "_id" : null, "totalCount" : 5 }\n  ]\n')),Object(l.b)("h5",{id:"perform-sum-and-average"},"Perform Sum and Average"),Object(l.b)("p",null,"The following example selects documents to process using the ",Object(l.b)("inlineCode",{parentName:"p"},"$match")," pipeline operator and then pipes the results to the ",Object(l.b)("inlineCode",{parentName:"p"},"$group"),' pipeline operator to compute the sum of views and average of score for "moe" author:'),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.aggregate(\n  {\n    pipelineStages: [\n      { $match: { \n        "author": "moe",\n        "_buildfire.index.string1": "e1efdf3a-a8a5-4c5a-8404-005c4b84b510"\n      },\n      { \n        $group: { \n          _id: null,\n           totalViews: { $sum: "$views" },\n           avgScore: { $avg: "$score" },\n        }\n      }\n    ],\n    skip: 0,\n    limit: 10\n  },,\n  "articles",\n  (err, result) => {\n\n    // result\n    /* \n    [\n      { \n        "_id" : null, \n        "totalViews" : 5999,\n        "avgScore": 74.5\n      }\n    ]\n    */\n  }\n);\n')),Object(l.b)("p",null,"In the aggregation pipeline, ",Object(l.b)("inlineCode",{parentName:"p"},"$match"),' selects the documents where _buildfire.index.string1 equal "e1efdf3a-a8a5-4c5a-8404-005c4b84b510" and author field equals "moe". These documents are then piped to the ',Object(l.b)("inlineCode",{parentName:"p"},"$group")," to compute the  ",Object(l.b)("inlineCode",{parentName:"p"},"totalViews")," and ",Object(l.b)("inlineCode",{parentName:"p"},"avgScore"),".\nThe aggregation returns the following:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'  [\n    { \n      "_id" : null, \n      "totalViews" : 5999,\n      "avgScore": 74.5\n    }\n  ]\n')),Object(l.b)("h5",{id:"perform-min-and-max-with-grouping"},"Perform Min and Max with Grouping"),Object(l.b)("p",null,"The following example selects documents to process using the ",Object(l.b)("inlineCode",{parentName:"p"},"$match")," pipeline operator and then pipes the results to the ",Object(l.b)("inlineCode",{parentName:"p"},"$group")," pipeline operator to compute the ",Object(l.b)("inlineCode",{parentName:"p"},"Min")," and ",Object(l.b)("inlineCode",{parentName:"p"},"Max")," of views, and ",Object(l.b)("inlineCode",{parentName:"p"},"Min")," and ",Object(l.b)("inlineCode",{parentName:"p"},"Max")," of score grouped by author:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.aggregate(\n  {\n    pipelineStages: [\n      { $match: { \n        "_buildfire.index.string1": "e1efdf3a-a8a5-4c5a-8404-005c4b84b510"\n      },\n      { \n        $group: { \n          _id: "$author",\n           minViews: { $min: "$views" },\n           maxViews: { $max: "$views" },\n           minScore: { $min: "$score" },\n           maxScore: { $max: "$score" },\n        }\n      }\n    ],\n    skip: 0,\n    limit: 5\n  },,\n  "articles",\n  (err, result) => {\n\n    // result\n    /* \n    [\n      { \n        "_id" : \'dave\', \n        "minViews" : 100,\n        "maxViews": 521,\n        "minScore": 80,\n        "maxScore": 85,\n      },\n      { \n        "_id" : \'max\', \n        "minViews" : 1000,\n        "maxViews": 1000,\n        "minScore": 60,\n        "maxScore": 60,\n      },\n      { \n        "_id" : \'moe\', \n        "minViews" : 1000,\n        "maxViews": 1000,\n        "minScore": 60,\n        "maxScore": 60,\n      },\n      { \n        "_id" : \'chris\', \n        "minViews" : 999,\n        "maxViews": 5000,\n        "minScore": 55,\n        "maxScore": 94,\n      },\n       { \n        "_id" : \'julia\', \n        "minViews" : 1000,\n        "maxViews": 1000,\n        "minScore": 95,\n        "maxScore": 95,\n      },\n    ]\n    */\n  }\n);\n')),Object(l.b)("p",null,"In the aggregation pipeline, ",Object(l.b)("inlineCode",{parentName:"p"},"$match"),' selects the documents where _buildfire.index.string1 equal "e1efdf3a-a8a5-4c5a-8404-005c4b84b510". These documents are then piped to the ',Object(l.b)("inlineCode",{parentName:"p"},"$group")," to compute the  ",Object(l.b)("inlineCode",{parentName:"p"},"minViews"),", ",Object(l.b)("inlineCode",{parentName:"p"},"maxViews"),", ",Object(l.b)("inlineCode",{parentName:"p"},"minScore")," and ",Object(l.b)("inlineCode",{parentName:"p"},"maxScore")," grouped by author field .\nThe aggregation returns the following:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'   [\n      { \n        "_id" : \'dave\', \n        "minViews" : 100,\n        "maxViews": 521,\n        "minScore": 80,\n        "maxScore": 85,\n      },\n      { \n        "_id" : \'max\', \n        "minViews" : 1000,\n        "maxViews": 1000,\n        "minScore": 60,\n        "maxScore": 60,\n      },\n      { \n        "_id" : \'moe\', \n        "minViews" : 1000,\n        "maxViews": 1000,\n        "minScore": 60,\n        "maxScore": 60,\n      },\n      { \n        "_id" : \'chris\', \n        "minViews" : 999,\n        "maxViews": 5000,\n        "minScore": 55,\n        "maxScore": 94,\n      },\n       { \n        "_id" : \'julia\', \n        "minViews" : 1000,\n        "maxViews": 1000,\n        "minScore": 95,\n        "maxScore": 95,\n      },\n    ]\n')),Object(l.b)("h5",{id:"exclude-fields"},"Exclude Fields"),Object(l.b)("p",null,"The following example selects documents to process using the ",Object(l.b)("inlineCode",{parentName:"p"},"$match")," pipeline operator and then pipes the results to the ",Object(l.b)("inlineCode",{parentName:"p"},"$project")," pipeline operator to includes only the author, and score fields in its output documents:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.aggregate(\n  {\n    pipelineStages: [\n      { $match: { \n        "_buildfire.index.string1": "e1efdf3a-a8a5-4c5a-8404-005c4b84b510"\n      },\n      {  \n        "$project": {"author": 1, "score": 1}\n      }\n    ],\n    page: 0,\n    pageSize: 5\n  },\n  "articles",\n  (err, result) => {\n\n    // result\n    /* \n    */\n  }\n);\n')),Object(l.b)("p",null,"The aggregation result"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'[\n  {\n  "data": { \n    "author" : "dave",\n    "score" : 80,\n    },\n  },\n  {\n    "data": { \n      "author" : "dave",\n      "score" : 85,\n    }\n  },\n  {\n    "data": { \n      "author" : "max",\n      "score" : 60,\n    }\n  },\n  {\n    "data": { \n      "author" : "moe",\n      "score" : 55,\n    }\n  },\n  {\n    "data": { \n      "author" : "chris",\n      "score" : 60,\n    }\n  }\n  \n]\n')),Object(l.b)("h4",{id:"full-aggregation-example"},"Full Aggregation Example"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.aggregate(\n  {\n    pipelineStages: [\n      { $match: { \n        "_buildfire.index.string1": "e1efdf3a-a8a5-4c5a-8404-005c4b84b510",\n        "author": "moe"\n      },\n      { \n        $group: { \n          _id: "$author",\n           totalViews: { $sum: "$views" },\n           avgScore: { $avg: "$score" },\n        }\n      },\n      {  \n        $sort: {"$avgScore": -1}\n      }\n    ],\n    skip: 0,\n    limit: 5\n  },\n  "articles",\n  (err, result) => {\n\n    // result\n    /* \n    */\n  }\n);\n\n')),Object(l.b)("p",null,"The aggregation result"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'[\n  { \n    "_id" : \'julia\', \n    "totalViews" : 1000,\n    "avgScore": 95,\n  },\n  { \n    "_id" : \'dave\', \n    "totalViews" : 621,\n    "avgScore": 82.5,\n  },\n  { \n    "_id" : \'moe\', \n    "totalViews" : 5999,\n    "avgScore": 74.5,\n  },\n  { \n    "_id" : \'max\', \n    "totalViews" : 1000,\n    "avgScore": 60,\n  },\n  \n  { \n    "_id" : \'chris\', \n    "totalViews" : 50,\n    "avgScore": 60,\n  }\n  \n]\n')),Object(l.b)("h4",{id:"full-aggregation-example-1"},"Full Aggregation Example"),Object(l.b)("p",null,"The following example selects documents to process using the ",Object(l.b)("inlineCode",{parentName:"p"},"$match")," pipeline operator and then pipes the results to the ",Object(l.b)("inlineCode",{parentName:"p"},"$group")," pipeline operator to compute the total of views, and average of score grouped by author then pipes the grouping stage results to ",Object(l.b)("inlineCode",{parentName:"p"},"$sort")," pipeline that sort the result descending based on ",Object(l.b)("inlineCode",{parentName:"p"},"totalViews"),":"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.appData.aggregate(\n  {\n    pipelineStages: [\n      { $match: { \n        "_buildfire.index.string1": "e1efdf3a-a8a5-4c5a-8404-005c4b84b510",\n        "author": "moe"\n      },\n      { \n        $group: { \n          _id: "$author",\n           totalViews: { $sum: "$views" },\n           avgScore: { $avg: "$score" },\n        }\n      },\n      {  \n        $sort: {"$avgScore": -1}\n      }\n    ],\n    skip: 0,\n    limit: 5\n  },\n  "articles",\n  (err, result) => {\n\n    // result\n    /* \n    */\n  }\n);\n\n')),Object(l.b)("p",null,"The aggregation result"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'[\n  { \n    "_id" : \'julia\', \n    "totalViews" : 1000,\n    "avgScore": 95,\n  },\n  { \n    "_id" : \'dave\', \n    "totalViews" : 621,\n    "avgScore": 82.5,\n  },\n  { \n    "_id" : \'moe\', \n    "totalViews" : 5999,\n    "avgScore": 74.5,\n  },\n  { \n    "_id" : \'max\', \n    "totalViews" : 1000,\n    "avgScore": 60,\n  },\n  \n  { \n    "_id" : \'chris\', \n    "totalViews" : 50,\n    "avgScore": 60,\n  }\n  \n]\n')),Object(l.b)("hr",null),Object(l.b)("h3",{id:"onupdate"},Object(l.b)("inlineCode",{parentName:"h3"},"onUpdate()")," ",Object(l.b)("div",{class:"label wdiget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.appData.onUpdate(callback, allowMultipleHandlers)")),Object(l.b)("p",null,"Allows you to pass a callback function that is called whenever the control updates data in the appData. Use this method in the widget to be notified that the control made a change so you can reflect that change directly in the widget. Returns a cleanup function to clear the listener."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'let onUpdate = buildfire.appData.onUpdate((event) => {\n  console.log("Data has been updated ", event);\n});\n\n// when you want to stop listening\n// onUpdate.clear();\n')),Object(l.b)("h4",{id:"callbackevent"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(event)")),Object(l.b)("p",null,"Function you pass that gets called on each appData update"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"event")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Updated appData records")))),Object(l.b)("h4",{id:"allowmultiplehandlers"},Object(l.b)("inlineCode",{parentName:"h4"},"allowMultipleHandlers")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"allowMultipleHandlers")),Object(l.b)("td",{parentName:"tr",align:null},"boolean"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Tells the method to override all other handlers, or allow multiple handlers to exist at the same time."),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"false"))))),Object(l.b)("hr",null))}p.isMDXComponent=!0},176:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return j}));var n=a(0),r=a.n(n);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var d=r.a.createContext({}),p=function(e){var t=r.a.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},o=function(e){var t=p(e.components);return r.a.createElement(d.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},s=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,b=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),o=p(a),s=n,j=o["".concat(b,".").concat(s)]||o[s]||m[s]||l;return a?r.a.createElement(j,i(i({ref:t},d),{},{components:a})):r.a.createElement(j,i({ref:t},d))}));function j(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,b=new Array(l);b[0]=s;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:n,b[1]=i;for(var d=2;d<l;d++)b[d]=a[d];return r.a.createElement.apply(null,b)}return r.a.createElement.apply(null,a)}s.displayName="MDXCreateElement"}}]);