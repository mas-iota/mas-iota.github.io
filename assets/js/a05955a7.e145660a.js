(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{132:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return b})),n.d(t,"toc",(function(){return i})),n.d(t,"default",(function(){return p}));var a=n(3),r=n(8),l=(n(0),n(176)),c={id:"contacts",title:"Contacts",sidebar_label:"Contacts",description:"How to get devices' contacts in BuildFire's apps",keywords:["buildfire","contacts","feature","device","android","ios"],slug:"/contacts"},b={unversionedId:"contacts",id:"contacts",isDocsHomePage:!1,title:"Contacts",description:"How to get devices' contacts in BuildFire's apps",source:"@site/docs/Contacts.md",slug:"/contacts",permalink:"/docs/contacts",version:"current",sidebar_label:"Contacts",sidebar:"services",previous:{title:"In App Purchases",permalink:"/docs/in-app-purchases-commerce"},next:{title:"Configuring IAP in iTunes Connect",permalink:"/docs/set-up-iap-for-ios"}},i=[{value:"Requirements",id:"requirements",children:[{value:"<code>plugin.json</code>",id:"pluginjson",children:[]}]},{value:"Methods",id:"methods",children:[{value:'<code>showDialog()</code> <div class="label widget"></div>',id:"showdialog",children:[]},{value:"Example of the received data",id:"example-of-the-received-data",children:[]},{value:'<code>search()</code><div class="label widget"></div>',id:"search",children:[]},{value:"Example of the received data",id:"example-of-the-received-data-1",children:[]}]}],o={toc:i};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"buildfiredevicecontacts"},Object(l.b)("inlineCode",{parentName:"h1"},"buildfire.device.contacts")),Object(l.b)("p",null,"This feature allows the app to access and to get devices contacts."),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"This feature works only on devices; so it will return an error if it was triggered outside devices"))),Object(l.b)("h2",{id:"requirements"},"Requirements"),Object(l.b)("h3",{id:"pluginjson"},Object(l.b)("inlineCode",{parentName:"h3"},"plugin.json")),Object(l.b)("p",null,"In ",Object(l.b)("a",{parentName:"p",href:"/docs/plugin-json-file"},"plugin.json")," add ",Object(l.b)("inlineCode",{parentName:"p"},"Contacts")," in your features array ",Object(l.b)("inlineCode",{parentName:"p"},'"features" : [{"name" : "Contacts"}]')),Object(l.b)("h2",{id:"methods"},"Methods"),Object(l.b)("h3",{id:"showdialog"},Object(l.b)("inlineCode",{parentName:"h3"},"showDialog()")," ",Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.device.contacts.showDialog(options, callback)")),Object(l.b)("p",null,"This function allows you to select one contact, where it shows the contacts in the device via native UI and you can select one of them. It may also ask the user for permission to access the device's contacts if it hasn't previously."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.device.contacts.showDialog({}, (err, contact) => {\n  if(err) return console.error(err);\n  console.log("The Selected Contact", contact);\n});\n')),Object(l.b)("h4",{id:"callbackerr-data"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, data)")),Object(l.b)("p",null,"Callback function after selecting a contact"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"data")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"The selected contact")))),Object(l.b)("h5",{id:"data"},Object(l.b)("inlineCode",{parentName:"h5"},"data")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"name")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"The name of the contact")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"emails")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of the contact's emails, example  ",Object(l.b)("inlineCode",{parentName:"td"},'"emails": [{"value":<string>,"pref":<bool>,"id":<number>,"type":<string>}'))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"photos")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of the contact's photos, example  ",Object(l.b)("inlineCode",{parentName:"td"},'"photos": [{"value":<string>,"pref":<bool>,"type":<string>'))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"phoneNumbers")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of the contact's phone numbers, example  ",Object(l.b)("inlineCode",{parentName:"td"},'"phoneNumbers": [{"value":<string>,"pref":<bool>,"id":<number>,"type":<string>}'))))),Object(l.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},Object(l.b)("inlineCode",{parentName:"p"},"pref")," and ",Object(l.b)("inlineCode",{parentName:"p"},"type")," in (",Object(l.b)("inlineCode",{parentName:"p"},"emails"),", ",Object(l.b)("inlineCode",{parentName:"p"},"photos")," and ",Object(l.b)("inlineCode",{parentName:"p"},"phoneNumbers"),") are widely supported but make sure to check nullability (or being undefined) for both of them"))),Object(l.b)("h3",{id:"example-of-the-received-data"},"Example of the received data"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'{\n  "name":"John Appleseed",\n  "emails": [\n    {\n      "value":"John-Appleseed@mac.com","pref":false,"id":0,"type":"work"\n    }\n  ],\n  "photos": [\n    {\n      "value":"/Users/buildfire/Library/Developer/CoreSimulator/Devices/2384C1C9-2898-4633-AB6B-E8A76DDC0B1D/data/Containers/Data/Application/\n       099B01C2-290E-446B-A0A2-D760FB78AF14/tmp/contact_photo_3","type":"url","pref":"false"\n    }\n  ],\n  "phoneNumbers": [\n    {\n      "value":"888-555-5512","pref":false,"id":0,"type":"mobile"\n    },\n    {\n      "value":"888-555-1212","pref":false,"id":1,"type":"home"\n    }\n  ]\n}\n')),Object(l.b)("hr",null),Object(l.b)("h3",{id:"search"},Object(l.b)("inlineCode",{parentName:"h3"},"search()"),Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.device.contacts.search(options, callback)")),Object(l.b)("p",null,"This function allows you to select multiple contacts, where you will get all the contacts (in a drawer) from the device and you can select from them. It may also ask the user for permission to access the device's contacts if it hasn't previously."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.device.contacts.search({}, (err, contacts) => {\n  if(err) return console.error(err);\n    console.log("The Selected Contacts", contacts);\n});\n')),Object(l.b)("h4",{id:"options"},Object(l.b)("inlineCode",{parentName:"h4"},"options")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"header")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Text or HTML to be rendered as the drawer's header"),Object(l.b)("td",{parentName:"tr",align:null})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"content")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Text or HTML to be rendered in the drawer's body"),Object(l.b)("td",{parentName:"tr",align:null})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"drawerButtonText")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Text of the button"),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"'Import'"))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"drawerButtonType")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Type of the button (primary, success, info, danger, warning, default)"),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"'success'"))))),Object(l.b)("h4",{id:"callbackerr-data-1"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, data)")),Object(l.b)("p",null,"Callback function after selecting contacts"),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"data")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of the selected contacts")))),Object(l.b)("h5",{id:"data-1"},Object(l.b)("inlineCode",{parentName:"h5"},"data")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"name")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"The name of the contact")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"emails")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of the contact's emails, example  ",Object(l.b)("inlineCode",{parentName:"td"},'"emails": [{"value":<string>,"pref":<bool>,"id":<number>,"type":<string>}'))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"photos")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of the contact's photos, example  ",Object(l.b)("inlineCode",{parentName:"td"},'"photos": [{"value":<string>,"pref":<bool>,"type":<string>'))),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"phoneNumbers")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of the contact's phone numbers, example  ",Object(l.b)("inlineCode",{parentName:"td"},'"phoneNumbers": [{"value":<string>,"pref":<bool>,"id":<number>,"type":<string>}'))))),Object(l.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},Object(l.b)("inlineCode",{parentName:"p"},"pref")," and ",Object(l.b)("inlineCode",{parentName:"p"},"type")," in (",Object(l.b)("inlineCode",{parentName:"p"},"emails"),", ",Object(l.b)("inlineCode",{parentName:"p"},"photos")," and ",Object(l.b)("inlineCode",{parentName:"p"},"phoneNumbers"),") are widely supported but make sure to check nullability (or being undefined) for both of them"))),Object(l.b)("h3",{id:"example-of-the-received-data-1"},"Example of the received data"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'{\n  "name":"John Appleseed",\n  "emails": [\n    {\n      "value":"John-Appleseed@mac.com","pref":false,"id":0,"type":"work"\n    }\n  ],\n  "photos": [\n    {\n      "value":"/Users/buildfire/Library/Developer/CoreSimulator/Devices/2384C1C9-2898-4633-AB6B-E8A76DDC0B1D/data/Containers/Data/Application/\n       099B01C2-290E-446B-A0A2-D760FB78AF14/tmp/contact_photo_3","type":"url","pref":"false"\n    }\n  ],\n  "phoneNumbers": [\n    {\n      "value":"888-555-5512","pref":false,"id":0,"type":"mobile"\n    },\n    {\n      "value":"888-555-1212","pref":false,"id":1,"type":"home"\n    }\n  ]\n}\n')),Object(l.b)("h4",{id:"more-examples"},"More Examples"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},'buildfire.device.contacts.search(\n  {\n    header: "Contacts", \n    content: "Select Contacts", \n    drawerButtonText: "Import Contacts", \n    drawerButtonType: \'primary\'\n  }, \n  (err, contacts) => {\n  if(err) return console.error(err);\n  console.log("The Selected Contacts", contacts);\n});\n')))}p.isMDXComponent=!0},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=r.a.createContext({}),p=function(e){var t=r.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):b(b({},t),e)),n},d=function(e){var t=p(e.components);return r.a.createElement(o.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,o=i(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,u=d["".concat(c,".").concat(m)]||d[m]||s[m]||l;return n?r.a.createElement(u,b(b({ref:t},o),{},{components:n})):r.a.createElement(u,b({ref:t},o))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,c=new Array(l);c[0]=m;var b={};for(var i in t)hasOwnProperty.call(t,i)&&(b[i]=t[i]);b.originalType=e,b.mdxType="string"==typeof e?e:a,c[1]=b;for(var o=2;o<l;o++)c[o]=n[o];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);