(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{165:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"toc",(function(){return b})),n.d(t,"default",(function(){return o}));var a=n(3),r=n(8),l=(n(0),n(176)),c={id:"in-app-purchases-commerce",title:"In App Purchases",sidebar_label:"In App Purchases",description:null,keywords:["buildfire","in","app","purchases","commerce","service","subscription","product"],slug:"/in-app-purchases-commerce"},i={unversionedId:"in-app-purchases-commerce",id:"in-app-purchases-commerce",isDocsHomePage:!1,title:"In App Purchases",description:"buildfire.services.commerce.inAppPurchase",source:"@site/docs/In-App-Purchases.md",slug:"/in-app-purchases-commerce",permalink:"/docs/in-app-purchases-commerce",version:"current",sidebar_label:"In App Purchases",sidebar:"services",previous:{title:"Push Notifications",permalink:"/docs/push-notifications"},next:{title:"Contacts",permalink:"/docs/contacts"}},b=[{value:"Requirements",id:"requirements",children:[{value:"Widget",id:"widget",children:[]},{value:"Control",id:"control",children:[]}]},{value:"Methods",id:"methods",children:[{value:'<code>getProducts()</code> <div class="label control"></div><div class="label widget"></div>',id:"getproducts",children:[]},{value:'<code>getSubscriptions()</code> <div class="label control"></div><div class="label widget"></div>',id:"getsubscriptions",children:[]},{value:'<code>purchase()</code> <div class="label widget"></div>',id:"purchase",children:[]},{value:'<code>checkIsPurchased()</code> <div class="label widget"></div>',id:"checkispurchased",children:[]}]}],p={toc:b};function o(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"buildfireservicescommerceinapppurchase"},Object(l.b)("inlineCode",{parentName:"h1"},"buildfire.services.commerce.inAppPurchase")),Object(l.b)("p",null,"IAP (In App Purchases) allows the user to gain access to premium digital content or features. Both iOS and Android supports IAP."),Object(l.b)("p",null,"Check links below for more info:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"iOS: ",Object(l.b)("a",{parentName:"li",href:"https://developer.apple.com/in-app-purchase/"},"https://developer.apple.com/in-app-purchase/")),Object(l.b)("li",{parentName:"ul"},"Android: ",Object(l.b)("a",{parentName:"li",href:"https://developer.android.com/google/play/billing/billing_overview.html"},"https://developer.android.com/google/play/billing/billing_overview.html"))),Object(l.b)("p",null,"If you haven't setup your app for In App Purchases in buildfire or have not yet added any products go through the following links first:"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"/docs/set-up-iap-for-ios"},"Set up IAP for iOS")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("a",{parentName:"li",href:"/docs/set-up-iap-for-google-play"},"Set up IAP for Google play"))),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("p",{parentName:"div"},"Testing purchases only works on a mobile device."))),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Notes for Android")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("ul",{parentName:"div"},Object(l.b)("li",{parentName:"ul"},"For testing purchases the build must be a release build and installed from Google Play Store (Alpha, Beta or Production)."),Object(l.b)("li",{parentName:"ul"},"Only testers added in your Google Play Store account can test purchases without requiring a real payment to be processed."),Object(l.b)("li",{parentName:"ul"},"The Google Play Store account user cannot be an IAP tester or have the account user linked on testing devices.")))),Object(l.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(l.b)("div",{parentName:"div",className:"admonition-heading"},Object(l.b)("h5",{parentName:"div"},Object(l.b)("span",{parentName:"h5",className:"admonition-icon"},Object(l.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(l.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Notes for iOS")),Object(l.b)("div",{parentName:"div",className:"admonition-content"},Object(l.b)("ul",{parentName:"div"},Object(l.b)("li",{parentName:"ul"},"For testing purchases the build must be downloaded from TestFlight.")))),Object(l.b)("h2",{id:"requirements"},"Requirements"),Object(l.b)("h3",{id:"widget"},"Widget"),Object(l.b)("p",null,"Include ",Object(l.b)("inlineCode",{parentName:"p"},"inAppPurchase.js")," file in widget header right after the ",Object(l.b)("inlineCode",{parentName:"p"},"buildfire.min.js")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-html"},'<head>\n  \x3c!-- ... --\x3e\n  <script src="../../../scripts/buildfire.min.js"><\/script>\n  <script src="../../../scripts/buildfire/services/commerce/inAppPurchase.js"><\/script>\n</head>\n')),Object(l.b)("h3",{id:"control"},"Control"),Object(l.b)("p",null,"Include ",Object(l.b)("inlineCode",{parentName:"p"},"inAppPurchase.js")," file in control header right after the ",Object(l.b)("inlineCode",{parentName:"p"},"buildfire.min.js")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-html"},'<head>\n  \x3c!-- ... --\x3e\n  <script src="../../../../scripts/buildfire.min.js"><\/script>\n  <script src="../../../../scripts/buildfire/services/commerce/inAppPurchase.js"><\/script>\n</head>\n')),Object(l.b)("h2",{id:"methods"},"Methods"),Object(l.b)("h3",{id:"getproducts"},Object(l.b)("inlineCode",{parentName:"h3"},"getProducts()")," ",Object(l.b)("div",{class:"label control"}),Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.services.commerce.inAppPurchase.getProducts(callback)")),Object(l.b)("p",null,"Fetches a list of products, defined in the buildfire control panel."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"buildfire.services.commerce.inAppPurchase.getProducts((err, products) => {\n  if (err) return console.error(err);\n\n  console.log('In app purchase products', products);\n});\n")),Object(l.b)("h4",{id:"callbackerr-products"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, products)")),Object(l.b)("p",null,"Callback function called when products are fetched. Might get error if called too early before InAppPurchase initializes."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"products")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of products available")))),Object(l.b)("h4",{id:"product"},Object(l.b)("inlineCode",{parentName:"h4"},"product")),Object(l.b)("p",null,"Each ",Object(l.b)("inlineCode",{parentName:"p"},"product")," has the following properties, as defined in the control panel."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"id")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Unique, randomly generated identifier")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"name")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Display name, assigned in the control panel")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"platformProductId")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Unique identifier, assigned to the product when it is created on Apple or Android platform")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Tag assigned to a user when they purchase a product.")))),Object(l.b)("hr",null),Object(l.b)("h3",{id:"getsubscriptions"},Object(l.b)("inlineCode",{parentName:"h3"},"getSubscriptions()")," ",Object(l.b)("div",{class:"label control"}),Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.services.commerce.inAppPurchase.getSubscriptions(callback)")),Object(l.b)("p",null,"Fetches a list of subscriptions, defined in the buildfire control panel."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"buildfire.services.commerce.inAppPurchase.getSubscriptions((err, subscriptions) => {\n  if (err) return console.error(err);\n\n  console.log('In app purchase subscriptions', subscriptions);\n});\n")),Object(l.b)("h4",{id:"callbackerr-products-1"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, products)")),Object(l.b)("p",null,"Callback function called when subscriptions are fetched. Might get error if called too early before InAppPurchase initializes."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"subscriptions")),Object(l.b)("td",{parentName:"tr",align:null},"[object]"),Object(l.b)("td",{parentName:"tr",align:null},"Array of subscriptions available")))),Object(l.b)("h4",{id:"subscription"},Object(l.b)("inlineCode",{parentName:"h4"},"subscription")),Object(l.b)("p",null,"Each ",Object(l.b)("inlineCode",{parentName:"p"},"subscription")," has the following properties, as reflected in the control panel."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"id")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Unique, randomly generated identifier")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"name")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Display name, assigned in the control panel")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"platformProductId")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Unique identifier, assigned to the product when it is created on Apple or Android platform")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"tag")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Tag assigned to a user when they purchase a subscription.")))),Object(l.b)("hr",null),Object(l.b)("h3",{id:"purchase"},Object(l.b)("inlineCode",{parentName:"h3"},"purchase()")," ",Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.services.commerce.inAppPurchase.purchase(productId, callback)")),Object(l.b)("p",null,"Initiates a purchase request."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"buildfire.services.commerce.inAppPurchase.purchase('m1eo1i1e91da2si2d12', (err, result) => {\n  if (err) return console.error(err);\n\n  console.log('Purchase request result', result);\n});\n")),Object(l.b)("h4",{id:"productid"},Object(l.b)("inlineCode",{parentName:"h4"},"productId")),Object(l.b)("p",null,"Id assigned to the product. Note that this ID is not the Google Play product ID, or the iOS product ID. It is an auto generated id that can be retrieved using ",Object(l.b)("inlineCode",{parentName:"p"},"getProducts")," function."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"productId")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Id assigned to the product. Note that this ID is not the Google Play product ID, or the iOS product ID. It is an auto generated id that can be retrieved using ",Object(l.b)("inlineCode",{parentName:"td"},"getProducts")," function."),Object(l.b)("td",{parentName:"tr",align:null})))),Object(l.b)("h4",{id:"callbackerr-result"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function executed when purchase request is completed. May not be called if user leaves the purchase. Returns the result of the purchase request, if successful (the request, not the purchase itself)."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Object containing purchase result details")))),Object(l.b)("h4",{id:"result"},Object(l.b)("inlineCode",{parentName:"h4"},"result")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"product")),Object(l.b)("td",{parentName:"tr",align:null},"object"),Object(l.b)("td",{parentName:"tr",align:null},"Product object")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"isApproved")),Object(l.b)("td",{parentName:"tr",align:null},"boolean"),Object(l.b)("td",{parentName:"tr",align:null},"Indicates if payment is approved")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"hasErrors")),Object(l.b)("td",{parentName:"tr",align:null},"boolean"),Object(l.b)("td",{parentName:"tr",align:null},"Indicates if payment error happened")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"isCancelled")),Object(l.b)("td",{parentName:"tr",align:null},"boolean"),Object(l.b)("td",{parentName:"tr",align:null},"Indicates if payment was cancelled")))),Object(l.b)("hr",null),Object(l.b)("h3",{id:"checkispurchased"},Object(l.b)("inlineCode",{parentName:"h3"},"checkIsPurchased()")," ",Object(l.b)("div",{class:"label widget"})),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"buildfire.services.commerce.inAppPurchase.checkIsPurchased(options, callback)")),Object(l.b)("p",null,"Checks if a product or subscription has been purchased. In addition, this will check if a subscription is expired or invalid."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-javascript"},"const options = { productId: 'm1eo1i1e91da2si2d12', type: 'subscription' };\n\nbuildfire.services.commerce.inAppPurchase.checkIsPurchased(options, (err, isPurchased) => {\n  if (err) return console.error(err);\n\n  console.log('Item Purchased:', isPurchased);\n});\n")),Object(l.b)("h4",{id:"options"},Object(l.b)("inlineCode",{parentName:"h4"},"options")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Required"),Object(l.b)("th",{parentName:"tr",align:null},"Description"),Object(l.b)("th",{parentName:"tr",align:null},"Default"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"productId")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"yes"),Object(l.b)("td",{parentName:"tr",align:null},"Id assigned to the product. Note that this ID is not the Google Play product ID, or the iOS product ID. It is an auto generated id that can be retrieved using ",Object(l.b)("inlineCode",{parentName:"td"},"getProducts")," function."),Object(l.b)("td",{parentName:"tr",align:null})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"type")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"no"),Object(l.b)("td",{parentName:"tr",align:null},"Determines the type of purchase to check for (subscription or product)."),Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"product"))))),Object(l.b)("h4",{id:"callbackerr-result-1"},Object(l.b)("inlineCode",{parentName:"h4"},"callback(err, result)")),Object(l.b)("p",null,"Callback function executed when the request is complete. Returns ownership state as a boolean."),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Name"),Object(l.b)("th",{parentName:"tr",align:null},"Type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"err")),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"error string, ",Object(l.b)("inlineCode",{parentName:"td"},"null")," when operation is successful")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},Object(l.b)("inlineCode",{parentName:"td"},"result")),Object(l.b)("td",{parentName:"tr",align:null},"boolean"),Object(l.b)("td",{parentName:"tr",align:null},"Returns true if the product has been purchased. Returns false if the product is not purchased, a subscription is expired, or any purchase is invalid.")))))}o.isMDXComponent=!0},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),o=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=o(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,p=b(e,["components","mdxType","originalType","parentName"]),d=o(n),u=a,m=d["".concat(c,".").concat(u)]||d[u]||s[u]||l;return n?r.a.createElement(m,i(i({ref:t},p),{},{components:n})):r.a.createElement(m,i({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,c=new Array(l);c[0]=u;var i={};for(var b in t)hasOwnProperty.call(t,b)&&(i[b]=t[b]);i.originalType=e,i.mdxType="string"==typeof e?e:a,c[1]=i;for(var p=2;p<l;p++)c[p]=n[p];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);