"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3003],{3905:(t,e,n)=>{n.d(e,{Zo:()=>s,kt:()=>c});var a=n(7294);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,l=function(t,e){if(null==t)return{};var n,a,l={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(l[n]=t[n]);return l}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}var d=a.createContext({}),p=function(t){var e=a.useContext(d),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},s=function(t){var e=p(t.components);return a.createElement(d.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,l=t.mdxType,r=t.originalType,d=t.parentName,s=o(t,["components","mdxType","originalType","parentName"]),m=p(n),c=l,k=m["".concat(d,".").concat(c)]||m[c]||u[c]||r;return n?a.createElement(k,i(i({ref:e},s),{},{components:n})):a.createElement(k,i({ref:e},s))}));function c(t,e){var n=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var r=n.length,i=new Array(r);i[0]=m;var o={};for(var d in e)hasOwnProperty.call(e,d)&&(o[d]=e[d]);o.originalType=t,o.mdxType="string"==typeof t?t:l,i[1]=o;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3991:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var a=n(7462),l=(n(7294),n(3905));const r={id:"stripe",title:"Stripe",sidebar_label:"Stripe",description:"BuildFire Stripe Integration",keywords:["buildfire","stripe","service","integration","checkout","charge","payment","stripe connect","stripe transfer"],slug:"/stripe"},i="buildfire.services.stripe",o={unversionedId:"stripe",id:"stripe",title:"Stripe",description:"BuildFire Stripe Integration",source:"@site/docs/Stripe.md",sourceDirName:".",slug:"/stripe",permalink:"/docs/stripe",draft:!1,tags:[],version:"current",frontMatter:{id:"stripe",title:"Stripe",sidebar_label:"Stripe",description:"BuildFire Stripe Integration",keywords:["buildfire","stripe","service","integration","checkout","charge","payment","stripe connect","stripe transfer"],slug:"/stripe"},sidebar:"integrations",previous:{title:"Firebase Integration",permalink:"/docs/firebase-integration"},next:{title:"Using Single Sign On (SSO)",permalink:"/docs/using-single-sign-on-sso"}},d={},p=[{value:"Enable checkout in your dashboard",id:"enable-checkout-in-your-dashboard",level:4},{value:"Running Example",id:"running-example",level:4},{value:"Requirements",id:"requirements",level:2},{value:"Keys",id:"keys",level:3},{value:"Widget",id:"widget",level:3},{value:"Control",id:"control",level:3},{value:"Methods",id:"methods",level:2},{value:'<code>charge()</code> <div class="label control"></div><div class="label widget"></div>',id:"charge-",level:3},{value:"<code>options</code>",id:"options",level:4},{value:"<code>options.items</code>",id:"optionsitems",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result",level:4},{value:"Example result",id:"example-result",level:4},{value:'<code>subscribe()</code> <div class="label control"></div><div class="label widget"></div>',id:"subscribe-",level:3},{value:"<code>options</code>",id:"options-1",level:4},{value:"<code>options.items</code>",id:"optionsitems-1",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-1",level:4},{value:"Example response",id:"example-response",level:4},{value:'<code>purchase()</code> <div class="label control"></div><div class="label widget"></div>',id:"purchase-",level:3},{value:"<code>options</code>",id:"options-2",level:4},{value:"<code>options.items</code>",id:"optionsitems-2",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-2",level:4},{value:'<code>getSubscription()</code> <div class="label control"></div><div class="label widget"></div>',id:"getsubscription-",level:3},{value:"<code>options</code>",id:"options-3",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-3",level:4},{value:"Example response",id:"example-response-1",level:4},{value:'<code>cancelSubscription()</code> <div class="label control"></div><div class="label widget"></div>',id:"cancelsubscription-",level:3},{value:"<code>options</code>",id:"options-4",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-4",level:4},{value:"Example response",id:"example-response-2",level:4},{value:'<code>refundPayment()</code> <div class="label control"></div><div class="label widget"></div>',id:"refundpayment-",level:3},{value:"<code>options</code>",id:"options-5",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-5",level:4},{value:'<code>cancelPayment()</code> <div class="label control"></div><div class="label widget"></div>',id:"cancelpayment-",level:3},{value:"<code>options</code>",id:"options-6",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-6",level:4},{value:'<code>addCustomer()</code> <div class="label control"></div><div class="label widget"></div>',id:"addcustomer-",level:3},{value:"<code>options</code>",id:"options-7",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-7",level:4},{value:"Example response",id:"example-response-3",level:4},{value:'<code>addCustomerCard()</code> <div class="label control"></div><div class="label widget"></div>',id:"addcustomercard-",level:3},{value:"<code>options</code>",id:"options-8",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-8",level:4},{value:"Example response",id:"example-response-4",level:4},{value:'<code>capturePayment()</code> <div class="label control"></div><div class="label widget"></div>',id:"capturepayment-",level:3},{value:"<code>options</code>",id:"options-9",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-9",level:4},{value:"Example response",id:"example-response-5",level:4},{value:'<code>account()</code> <div class="label control"></div><div class="label widget"></div>',id:"account-",level:3},{value:"<code>options</code>",id:"options-10",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-10",level:4},{value:'<code>deleteAccount()</code> <div class="label control"></div><div class="label widget"></div>',id:"deleteaccount-",level:3},{value:"<code>options</code>",id:"options-11",level:4},{value:"<code>callback(err, result)</code>",id:"callbackerr-result-11",level:4}],s={toc:p};function u(t){let{components:e,...n}=t;return(0,l.kt)("wrapper",(0,a.Z)({},s,n,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"buildfireservicesstripe"},(0,l.kt)("inlineCode",{parentName:"h1"},"buildfire.services.stripe")),(0,l.kt)("p",null,"This is a built in API that allows your control or widget to integrate with Stripe Checkout."),(0,l.kt)("p",null,"With stripe checkout you can start accepting payments for your products and create subscription for your services, with buildfire stripe service we made it super easy and simple for you to integrate with it. The new version of stripe checkout is a smart payment page hosted by Stripe that creates payments or subscriptions."),(0,l.kt)("h4",{id:"enable-checkout-in-your-dashboard"},"Enable checkout in your dashboard"),(0,l.kt)("p",null,"To begin using Checkout, log into the Stripe Dashboard and navigate to the Checkout settings. From here you can enable the client integration and customize the look and feel of your checkout page. please check stripe docs for more details."),(0,l.kt)("admonition",{title:"important",type:"caution"},(0,l.kt)("p",{parentName:"admonition"},"Make sure to add ",(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.com")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"pluginserver.buildfire.com")," to the ",(0,l.kt)("strong",{parentName:"p"},"Domains")," section in ",(0,l.kt)("a",{parentName:"p",href:"https://dashboard.stripe.com/account/checkout/settings"},"Checkout settings page")," ",(0,l.kt)("em",{parentName:"p"},"before you go LIVE."))),(0,l.kt)("h4",{id:"running-example"},"Running Example"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/BuildFire/simpleBuildFireJSExamples/tree/master/exampleStripeCheckout"},"https://github.com/BuildFire/simpleBuildFireJSExamples/tree/master/exampleStripeCheckout")),(0,l.kt)("h2",{id:"requirements"},"Requirements"),(0,l.kt)("h3",{id:"keys"},"Keys"),(0,l.kt)("p",null,"This service requires ",(0,l.kt)("a",{parentName:"p",href:"/docs/api-keys#buildfire-api-public-key"},"Buildfire API Public Key")," and ",(0,l.kt)("a",{parentName:"p",href:"/docs/api-keys#stripe-publishable-key"},"Stripe Publishable Key")),(0,l.kt)("h3",{id:"widget"},"Widget"),(0,l.kt)("p",null,"Include ",(0,l.kt)("inlineCode",{parentName:"p"},"stripe.js")," file in widget header right after the ",(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.min.js")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'<head>\n  \x3c!-- ... --\x3e\n  <script src="../../../scripts/buildfire.min.js"><\/script>\n  <script src="../../../scripts/buildfire/services/stripe/stripe.js"><\/script>\n</head>\n')),(0,l.kt)("h3",{id:"control"},"Control"),(0,l.kt)("p",null,"Include ",(0,l.kt)("inlineCode",{parentName:"p"},"stripe.js")," file in control header right after the ",(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.min.js")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'<head>\n  \x3c!-- ... --\x3e\n  <script src="../../../../scripts/buildfire.min.js"><\/script>\n  <script src="../../../../scripts/buildfire/services/stripe/stripe.js"><\/script>\n</head>\n')),(0,l.kt)("h2",{id:"methods"},"Methods"),(0,l.kt)("h3",{id:"charge-"},(0,l.kt)("inlineCode",{parentName:"h3"},"charge()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.charge(options, callback)")),(0,l.kt)("p",null,"Add dynamic product catalog and pricing and charge the customer. This is best used when you want to be able to charge customers without setting up Products in the Stripe dashboard. So it will be a dynamic amount that can be charged in realtime. If you'd like to have predefined items with fixed pricing per item then check out the Purchase method."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.charge(\n  {\n    items: [\n      {\n        name: "Test Stripe Product",\n        description: "This product has been generated from Buildfire SDK",\n        amount: "1000", //equals 10 USD\n      },\n    ],\n  },\n  (err, result) => {\n    if (err) return console.error(err);\n    if (result) {\n      console.log("Payment Success");\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"items")),(0,l.kt)("td",{parentName:"tr",align:null},"[object]"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"An array of items"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"submitType")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Describes the type of transaction being performed by Checkout in order to customize relevant text on the page, such as the submit button. Supported values are ",(0,l.kt)("inlineCode",{parentName:"td"},'"auto"'),", ",(0,l.kt)("inlineCode",{parentName:"td"},'"book"'),", ",(0,l.kt)("inlineCode",{parentName:"td"},'"donate"'),", or ",(0,l.kt)("inlineCode",{parentName:"td"},'"pay"')),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"customerId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"ID of an existing customer, if one exists. If blank, Checkout will create a new customer object based on information provided during the session. The email stored on the customer will be used to prefill the email field on the Checkout page. If the customer changes their email on the Checkout page, the Customer object will be updated with the new email."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"customerEmail")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"If provided, this value will be used when the Customer object is created. If not provided, customers will be asked to enter their email address. Use this parameter to prefill customer data if you already have an email on file. To access information about the customer once a session is complete, use the customer field."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"captureMethod")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Controls when the funds will be captured from the customer\u2019s account. Possible enum values ",(0,l.kt)("inlineCode",{parentName:"td"},'["automatic", "manual"]')),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"automatic"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"automaticTax")),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Settings for automatic tax lookup for this session and resulting payments, invoices, and subscriptions. to be enable should set it to ",(0,l.kt)("inlineCode",{parentName:"td"},"true")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))))),(0,l.kt)("h4",{id:"optionsitems"},(0,l.kt)("inlineCode",{parentName:"h4"},"options.items")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"name")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"The name for the line item"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"description")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"The description for the line item"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"amount")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"The amount to be charged in cents"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"currency")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Three-letter ISO currency code, in lowercase. Must be a supported, for more details check ",(0,l.kt)("a",{parentName:"td",href:"https://stripe.com/docs/currencies"},"stripe docs")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"usd"'))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"taxBehavior")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Specifies whether the amount is considered inclusive of taxes or exclusive of taxes. One of ",(0,l.kt)("inlineCode",{parentName:"td"},"inclusive")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"exclusive"),". Once specify as either ",(0,l.kt)("inlineCode",{parentName:"td"},"inclusive")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"exclusive")," cannot be changed. ",(0,l.kt)("strong",{parentName:"td"},"Required")," when ",(0,l.kt)("inlineCode",{parentName:"td"},"automatic tax")," is enabled"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},'"unspecified"'))))),(0,l.kt)("h4",{id:"callbackerr-result"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"Object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the completed stripe checkout session")))),(0,l.kt)("h4",{id:"example-result"},"Example result"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "id": "checkout_session_id",\n    "object": "checkout.session",\n    "billing_address_collection": null,\n    "cancel_url": "http://app.buildfire/payments/cancel",\n    "success_url": "http://app.buildfire/payments/success"\n    "client_reference_id": "unqiue_key_provided_by_buildfire",\n    "customer": "customer_id",\n    "customer_email": "customer_email_if_provided",\n    "display_items": [\n        {\n            "amount": 1000,\n            "currency": "usd",\n            "custom": {\n                "description": null,\n                "images": null,\n                "name": "Test Product"\n            },\n            "quantity": 1,\n            "type": "custom"\n        }\n    ],\n    "livemode": false,\n    "locale": null,\n    "payment_intent": "payment_intent_id",\n    "payment_method_types": [\n        "card"\n    ],\n    "submit_type": null,\n    "subscription": null,\n}\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"subscribe-"},(0,l.kt)("inlineCode",{parentName:"h3"},"subscribe()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.subscribe(options, callback)")),(0,l.kt)("p",null,"Subscribe to specific stripe plan defined in your stripe dashboard."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.subscribe(\n  {\n    items: [\n      {\n        planId: "YOUR_PLAN_ID",\n      },\n    ],\n    trialPeriodDays: 2,\n  },\n  (err, result) => {\n    if (result) {\n      console.log("Success Subscription");\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-1"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"items")),(0,l.kt)("td",{parentName:"tr",align:null},"[object]"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"An array of items"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"trialPeriodDays")),(0,l.kt)("td",{parentName:"tr",align:null},"integer"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of trial period days before the customer is charged for the first time."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"customerId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"ID of an existing customer, if one exists. If blank, Checkout will create a new customer object based on information provided during the session. The email stored on the customer will be used to prefill the email field on the Checkout page. If the customer changes their email on the Checkout page, the Customer object will be updated with the new email."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"customerEmail")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"If provided, this value will be used when the Customer object is created. If not provided, customers will be asked to enter their email address. Use this parameter to prefill customer data if you already have an email on file. To access information about the customer once a session is complete, use the customer field."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"automaticTax")),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Settings for automatic tax lookup for this session and resulting payments, invoices, and subscriptions."),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))))),(0,l.kt)("h4",{id:"optionsitems-1"},(0,l.kt)("inlineCode",{parentName:"h4"},"options.items")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"planId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Plan ID for this item"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"quantity")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"nno"),(0,l.kt)("td",{parentName:"tr",align:null},"Quantity for this item"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"1"))))),(0,l.kt)("h4",{id:"callbackerr-result-1"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the completed stripe checkout session")))),(0,l.kt)("h4",{id:"example-response"},"Example response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "checkout_session_id",\n  "object": "checkout.session",\n  "billing_address_collection": null,\n  "cancel_url": "http://app.buildfire/payments/cancel",\n  "success_url": "http://app.buildfire/payments/success",\n  "client_reference_id": "app_id_123_123",\n  "customer": "customer_id",\n  "customer_email": "customer_email_if_provided",\n  "display_items": [\n    {\n      "amount": 1300,\n      "currency": "gbp",\n      "plan": {\n        "id": "plan_id",\n        "object": "plan",\n        "active": true,\n        "aggregate_usage": null,\n        "amount": 1300,\n        "billing_scheme": "per_unit",\n        "created": 1564005954,\n        "currency": "gbp",\n        "interval": "month",\n        "interval_count": 1,\n        "livemode": false,\n        "metadata": {},\n        "nickname": "Monthly",\n        "product": "product_id",\n        "tiers": null,\n        "tiers_mode": null,\n        "transform_usage": null,\n        "trial_period_days": null,\n        "usage_type": "licensed"\n      },\n      "quantity": 1,\n      "type": "plan"\n    }\n  ],\n  "livemode": false,\n  "locale": null,\n  "payment_intent": null,\n  "payment_method_types": ["card"],\n  "submit_type": null,\n  "subscription": "subscription_id"\n}\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"purchase-"},(0,l.kt)("inlineCode",{parentName:"h3"},"purchase()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.purchase(options, callback)")),(0,l.kt)("p",null,"Purchase stripe products defined in your stripe dashboard. This method is best used when you have a predefined list of products and prices in the Stripe dashboard that you can reference per sku and not worry about pricing being passed in by the client."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.purchase({\n    items: [{\n        sku: "PRODUCT_SKU_ID",\n        quantity: 2\n    }]\n}, (err, result) => {\n    if (err) return console.error(err);\n    if (result) {\n        console.log("Success Purchase");\n    }\n});\n')),(0,l.kt)("h4",{id:"options-2"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"items")),(0,l.kt)("td",{parentName:"tr",align:null},"[object]"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"An array of items"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"submitType")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Describes the type of transaction being performed by Checkout in order to customize relevant text on the page, such as the submit button. Supported values are ",(0,l.kt)("inlineCode",{parentName:"td"},'"auto"'),", ",(0,l.kt)("inlineCode",{parentName:"td"},'"book"'),", ",(0,l.kt)("inlineCode",{parentName:"td"},'"donate"'),", or ",(0,l.kt)("inlineCode",{parentName:"td"},'"pay"')),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"customerId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"ID of an existing customer, if one exists. If blank, Checkout will create a new customer object based on information provided during the session. The email stored on the customer will be used to prefill the email field on the Checkout page. If the customer changes their email on the Checkout page, the Customer object will be updated with the new email."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"customerEmail")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"If provided, this value will be used when the Customer object is created. If not provided, customers will be asked to enter their email address. Use this parameter to prefill customer data if you already have an email on file. To access information about the customer once a session is complete, use the customer field."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"automaticTax")),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Settings for automatic tax lookup for this session and resulting payments, invoices, and subscriptions. to be enable should set it to true. just work with prices (use ",(0,l.kt)("inlineCode",{parentName:"td"},"price")," instead of ",(0,l.kt)("inlineCode",{parentName:"td"},"sku")," in item object)"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false"))))),(0,l.kt)("h4",{id:"optionsitems-2"},(0,l.kt)("inlineCode",{parentName:"h4"},"options.items")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"sku")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"conditionally"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the SKU that the customer would like to purchase. One of ",(0,l.kt)("inlineCode",{parentName:"td"},"sku")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"price")," is required."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"price")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"conditionally"),(0,l.kt)("td",{parentName:"tr",align:null},"The ID of the Price object. One of ",(0,l.kt)("inlineCode",{parentName:"td"},"price")," or ",(0,l.kt)("inlineCode",{parentName:"td"},"sku")," is required."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"quantity")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Quantity for this item"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"1"))))),(0,l.kt)("h4",{id:"callbackerr-result-2"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the completed stripe checkout session")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"getsubscription-"},(0,l.kt)("inlineCode",{parentName:"h3"},"getSubscription()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.getSubscription(options, callback)")),(0,l.kt)("p",null,"Get stripe subscription details."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.getSubscription(\n  {\n    subscriptionId: "SUBSCRIPTION_ID",\n  },\n  (err, result) => {\n    if (result) {\n      console.log("subscription object", result);\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-3"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"subscriptionId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Stripe subscription id"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-3"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the completed stripe checkout session")))),(0,l.kt)("h4",{id:"example-response-1"},"Example response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "SUBSCRIPTION_ID",\n  "object": "subscription",\n  "application_fee_percent": null,\n  "billing": "charge_automatically",\n  "billing_cycle_anchor": 1565625862,\n  "billing_thresholds": null,\n  "cancel_at": null,\n  "cancel_at_period_end": false,\n  "canceled_at": null,\n  "collection_method": "charge_automatically",\n  "created": 1565193862,\n  "current_period_end": 1565625862,\n  "current_period_start": 1565193862,\n  "customer": "CUSTOMER_ID",\n  "days_until_due": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "discount": null,\n  "ended_at": null,\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "ID",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1565193863,\n        "metadata": {},\n        "plan": {\n          "id": "PLAN_ID",\n          "object": "plan",\n          "active": true,\n          "nickname": "Monthly",\n          "product": "PRODUCT_ID",\n          "transform_usage": null,\n          "trial_period_days": null\n        },\n        "quantity": 1,\n        "subscription": "SUBSCRIPTION_ID",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=SUBSCRIPTION_ID"\n  },\n  "livemode": false,\n  "metadata": {},\n  "pending_setup_intent": null,\n  "plan": {\n    "id": "PLAN_ID",\n    "object": "plan",\n    "active": true,\n    "nickname": "Monthly",\n    "product": "PRODUCT_ID"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start": 1565193862,\n  "start_date": 1565193862,\n  "status": "trialing",\n  "tax_percent": null,\n  "trial_end": 1565625862,\n  "trial_start": 1565193862\n}\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"cancelsubscription-"},(0,l.kt)("inlineCode",{parentName:"h3"},"cancelSubscription()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.cancelSubscription(options, callback)")),(0,l.kt)("p",null,"Cancel stripe subscription details."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.cancelSubscription(\n  {\n    subscriptionId: "SUBSCRIPTION_ID",\n    customerId: "CUSTOMER_ID",\n  },\n  (err, result) => {\n    if (result) {\n      console.log("subscription object", result);\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-4"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"subscriptionId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Stripe subscription id"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"customerId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Stripe customer id"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-4"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the completed cancel subscription")))),(0,l.kt)("h4",{id:"example-response-2"},"Example response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "SUBSCRIPTION_ID",\n  "object": "subscription",\n  "application_fee_percent": null,\n  "billing": "charge_automatically",\n  "billing_cycle_anchor": 1565625862,\n  "billing_thresholds": null,\n  "cancel_at": null,\n  "cancel_at_period_end": false,\n  "canceled_at": 1565216551,\n  "collection_method": "charge_automatically",\n  "created": 1565193862,\n  "current_period_end": 1565625862,\n  "current_period_start": 1565193862,\n  "customer": "CUSTOMER_ID",\n  "days_until_due": null,\n  "default_source": null,\n  "default_tax_rates": [],\n  "discount": null,\n  "ended_at": null,\n  "items": {\n    "object": "list",\n    "data": [\n      {\n        "id": "ID",\n        "object": "subscription_item",\n        "billing_thresholds": null,\n        "created": 1565193863,\n        "metadata": {},\n        "plan": {\n          "id": "PLAN_ID",\n          "object": "plan",\n          "active": true,\n          "nickname": "Monthly",\n          "product": "PRODUCT_ID",\n          "transform_usage": null,\n          "trial_period_days": null\n        },\n        "quantity": 1,\n        "subscription": "SUBSCRIPTION_ID",\n        "tax_rates": []\n      }\n    ],\n    "has_more": false,\n    "total_count": 1,\n    "url": "/v1/subscription_items?subscription=SUBSCRIPTION_ID"\n  },\n  "livemode": false,\n  "metadata": {},\n  "pending_setup_intent": null,\n  "plan": {\n    "id": "PLAN_ID",\n    "object": "plan",\n    "active": true,\n    "nickname": "Monthly",\n    "product": "PRODUCT_ID"\n  },\n  "quantity": 1,\n  "schedule": null,\n  "start": 1565193862,\n  "start_date": 1565193862,\n  "status": "canceled",\n  "tax_percent": null,\n  "trial_end": 1565625862,\n  "trial_start": 1565193862\n}\n')),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"refundpayment-"},(0,l.kt)("inlineCode",{parentName:"h3"},"refundPayment()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.refundPayment(options, callback)")),(0,l.kt)("p",null,"Refund stripe payment."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.refundPayment(\n  {\n    paymentIntentsId: "PAYMENT_INTENTS_ID",\n    amount: 1000,\n    reason: "REASON",\n    metadata: {},\n  },\n  (err, result) => {\n    if (result) {\n      console.log("refund payment object", result);\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-5"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"paymentIntentsId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"stripe payment intents id"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"amount")),(0,l.kt)("td",{parentName:"tr",align:null},"integer"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Default is entire charge. A positive integer in cents representing how much of this charge to refund. Can refund only up to the remaining, unrefunded amount of the charge"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"reason")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"The reason for the refund. If set, possible values are ",(0,l.kt)("inlineCode",{parentName:"td"},"duplicate"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"fraudulent"),", and ",(0,l.kt)("inlineCode",{parentName:"td"},"requested_by_customer"),". If you believe the charge to be fraudulent, specifying fraudulent as the reason will add the associated card and email to your block lists, and will also help us improve our fraud detection algorithms"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"metadata")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"A set of key-value pairs that you can attach to a Refund object. This can be useful for storing additional information about the refund in a structured format. You can unset individual keys if you POST an empty value for that key. You can clear all keys if you POST an empty value for metadata"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-5"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the completed stripe refund payment")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"cancelpayment-"},(0,l.kt)("inlineCode",{parentName:"h3"},"cancelPayment()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.cancelPayment(options, callback)")),(0,l.kt)("p",null,"Cancel stripe payment."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.cancelPayment(\n  {\n    paymentIntentsId: "PAYMENT_INTENTS_ID",\n    cancellationReason: "CANCELLATION_REASON",\n  },\n  (err, result) => {\n    if (result) {\n      console.log("cancel payment object", result);\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-6"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"paymentIntentsId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"stripe payment intents id"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"cancellationReason")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Reason for canceling this PaymentIntent. Possible values are ",(0,l.kt)("inlineCode",{parentName:"td"},"duplicate"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"fraudulent"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"requested_by_customer"),", or ",(0,l.kt)("inlineCode",{parentName:"td"},"abandoned")),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-6"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the completed stripe cancel payment")))),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"addcustomer-"},(0,l.kt)("inlineCode",{parentName:"h3"},"addCustomer()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.addCustomer(options, callback)")),(0,l.kt)("p",null,"Add Stripe Customer"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.addCustomer(\n  {\n    email: "CUSTOMER_EMAIL",\n    name: "CUSTOMER_NAME",\n    description: "CUSTOMER_DESCRIPTION",\n    metadata: "CUSTOMER_METADATA_OBJECT"\n  },\n  (err, result) => {\n    if (result) {\n      console.log("Customer object", result);\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-7"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"email")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Customer\u2019s email address. It\u2019s displayed alongside the customer in your dashboard and can be useful for searching and tracking. This may be up to 512 characters."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"name")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"The customer\u2019s full name or business name."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"description")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"An arbitrary string that you can attach to a customer object. It is displayed alongside the customer in the dashboard."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"metadata")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Set of key-value pairs that you can attach to an object. This can be useful for storing additional information about the object in a structured format. Individual keys can be unset by posting an empty value to them. All keys can be unset by posting an empty value to metadata."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-7"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the newly added Stripe Customer")))),(0,l.kt)("h4",{id:"example-response-3"},"Example response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "customer": "CUSTOMER-ID"\n}\n')),(0,l.kt)("h3",{id:"addcustomercard-"},(0,l.kt)("inlineCode",{parentName:"h3"},"addCustomerCard()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.addCustomerCard(options, callback)")),(0,l.kt)("p",null,"Add Customer Card"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.addCustomerCard(\n  {\n    customerId: "CUSTOMER_ID"\n  },\n  (err, result) => {\n    if (result) {\n      console.log("paymentMethod object", result);\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-8"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"customerId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Stripe customer id"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-8"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the completed stripe checkout session")))),(0,l.kt)("h4",{id:"example-response-4"},"Example response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "success": true\n}\n')),(0,l.kt)("h3",{id:"capturepayment-"},(0,l.kt)("inlineCode",{parentName:"h3"},"capturePayment()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.capturePayment(options, callback)")),(0,l.kt)("p",null,"Capture payment"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.capturePayment(\n  {\n    paymentIntentsId: "PAYMENT INTENT ID",\n    amountToCapture: 1000,\n  },\n  (err, result) => {\n    if (result) {\n      console.log("capturePayment object", result);\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-9"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"paymentIntentsId")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"yes"),(0,l.kt)("td",{parentName:"tr",align:null},"Stripe payment intents id"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"amountToCapture")),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"The amount to capture from the PaymentIntent, which must be less than or equal to the original amount. Any additional amount will be automatically refunded. Defaults to the full."),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-9"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the payment intent object")))),(0,l.kt)("h4",{id:"example-response-5"},"Example response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "success": true\n}\n')),(0,l.kt)("h3",{id:"account-"},(0,l.kt)("inlineCode",{parentName:"h3"},"account()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.connect.account(options, callback)")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Connect")," is a set of programmable APIs and tools that lets you facilitate payments on your software platform, build a marketplace, and pay out sellers or service providers globally\u2014all while shifting payments compliance to Stripe."),(0,l.kt)("p",null,"When using ",(0,l.kt)("strong",{parentName:"p"},"Stripe Connect"),", you need to create an account (known as a connected account) for each user that receives money on your platform."),(0,l.kt)("p",null,"This method will create ",(0,l.kt)("inlineCode",{parentName:"p"},"Express")," connected account to your platform, you can later send funds from your Stripe account to the connected account."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Prerequisites:"),(0,l.kt)("ol",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{href:"https://dashboard.stripe.com/connect/tasklist"},"Register your platform")),(0,l.kt)("li",{parentName:"ol"},"Add business details to ",(0,l.kt)("a",{href:"https://dashboard.stripe.com/account/onboarding"},"activate your account")),(0,l.kt)("li",{parentName:"ol"},"Complete your ",(0,l.kt)("a",{href:"https://dashboard.stripe.com/connect/settings/profile"},"platform profile")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{href:"https://dashboard.stripe.com/settings/connect"},"Customize brand settings")))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.connect.account(\n  {},\n  (err, result) => {\n    if (result) {\n      console.log("Stripe connect account object", result);\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-10"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"email")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"The email address of the account holder. This is only to make the account easier to identify to you. Stripe will never directly email Custom accounts."),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"metadata")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"no"),(0,l.kt)("td",{parentName:"tr",align:null},"Set of key-value pairs that you can attach to an object. This can be useful for storing additional information about the object in a structured format. Individual keys can be unset by posting an empty value to them. All keys can be unset by posting an empty value"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h4",{id:"callbackerr-result-10"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"The result of the stripe connect account object")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result.status")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Account status, values ",(0,l.kt)("inlineCode",{parentName:"td"},"['pending', 'active']"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result.is_active")),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"Account activity status")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result.bf_stripe_connect_token")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"BuildFire Stripe connect token, this should be saved in your database")))),(0,l.kt)("h3",{id:"deleteaccount-"},(0,l.kt)("inlineCode",{parentName:"h3"},"deleteAccount()")," ",(0,l.kt)("div",{class:"label control"}),(0,l.kt)("div",{class:"label widget"})),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"buildfire.services.stripe.connect.deleteAccount(options, callback)")),(0,l.kt)("p",null,"This method will delete the connected Stripe account from your platform."),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"This method will automatically check the current logged user and delete the connected Stripe account attached to it.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'buildfire.services.stripe.connect.deleteAccount(\n  {},\n  (err, result) => {\n    if (result) {\n      console.log("Stripe delete connected account object", result);\n    }\n  }\n);\n')),(0,l.kt)("h4",{id:"options-11"},(0,l.kt)("inlineCode",{parentName:"h4"},"options")),(0,l.kt)("p",null,"No options available"),(0,l.kt)("h4",{id:"callbackerr-result-11"},(0,l.kt)("inlineCode",{parentName:"h4"},"callback(err, result)")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"err")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"error string, ",(0,l.kt)("inlineCode",{parentName:"td"},"null")," when operation is successful")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"result")),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"empty object")))))}u.isMDXComponent=!0}}]);