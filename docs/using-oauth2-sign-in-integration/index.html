<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-using-oauth2-sign-in-integration">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GK8BZT0BK4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GK8BZT0BK4",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Buildfire Plugin SDK" href="/opensearch.xml"><title data-rh="true">Using OAuth2 Sign In Integration | Buildfire Plugin SDK</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mas-iota.github.io&#x27;/docs/using-oauth2-sign-in-integration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using OAuth2 Sign In Integration | Buildfire Plugin SDK"><meta data-rh="true" name="description" content="The purpose of this feature is to to allow app owner to setup his application to obtain access to user accounts on an HTTP service (Business Partner Service) support OAuth2 protocol such as GitHub, Slack, FitBit, etc. So the app owner can easily setup the service requirement to provide their user a new Sign In method for his App."><meta data-rh="true" property="og:description" content="The purpose of this feature is to to allow app owner to setup his application to obtain access to user accounts on an HTTP service (Business Partner Service) support OAuth2 protocol such as GitHub, Slack, FitBit, etc. So the app owner can easily setup the service requirement to provide their user a new Sign In method for his App."><meta data-rh="true" name="keywords" content="buildfire,input,inputAPI,API"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mas-iota.github.io&#x27;/docs/using-oauth2-sign-in-integration"><link data-rh="true" rel="alternate" href="https://mas-iota.github.io&#x27;/docs/using-oauth2-sign-in-integration" hreflang="en"><link data-rh="true" rel="alternate" href="https://mas-iota.github.io&#x27;/docs/using-oauth2-sign-in-integration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://C4L38VH5HU-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.c3872164.css">
<link rel="preload" href="/assets/js/runtime~main.577318b6.js" as="script">
<link rel="preload" href="/assets/js/main.8e833c14.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/bfjslogo.png" alt="Buildfjre.js Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/bfjslogo.png" alt="Buildfjre.js Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/">Getting Started</a><a class="navbar__item navbar__link" href="/docs/auth">API</a><a class="navbar__item navbar__link" href="/docs/action-items-component">Components</a><a class="navbar__item navbar__link" href="/docs/features-list">Services</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/analytics">Integration &amp; Tools</a><a href="https://github.com/buildfire/sdk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/analytics">Analytics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/api-keys">Integrations and APIs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api-keys">API Keys</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/firebase-integration">Firebase Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stripe">Stripe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/using-single-sign-on-sso">Using Single Sign On (SSO)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/using-oauth2-sign-in-integration">Using OAuth2 Sign In Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/public-apis">Public HTTP APIs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/app-developer-mode">Developer Tools &amp; Plugin Testing</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Integrations and APIs</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using OAuth2 Sign In Integration</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using OAuth2 Sign In Integration</h1></header><p>The purpose of this feature is to to allow app owner to setup his application to obtain access to user accounts on an HTTP service (Business Partner Service) support OAuth2 protocol such as GitHub, Slack, FitBit, etc. So the app owner can easily setup the service requirement to provide their user a new Sign In method for his App.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authorization-flow">Authorization Flow<a class="hash-link" href="#authorization-flow" title="Direct link to heading">​</a></h2><p> <img loading="lazy" alt="Deep Link" src="/assets/images/oauth2_flow-086d18ca7aa3a1d18a9dc31eb251cf86.png" width="1710" height="793" class="img_ev3q"></p><p>1- BuildFire Auth server start login flow by request Authorize URL.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  https://www.example.com/authroize?response_type=code&amp;client_id=CLIENT_ID&amp;redirect_uri=https://app.buildfire.com/api/app/oauth2/callback&amp;scopes=profile&amp;state=&quot;{&quot;appId&quot;: &#x27;&#x27;, providerId: &#x27;&#x27;}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>2- Authorization Server redirects the user to the login and authorization prompt.</p><p>3- The user authenticates using his username and password on Authorization Server side.</p><p>4- The Authorization Server redirects the user back to the BuildFire Auth server with an authorization code, which is  good for one use.</p><ul><li>Response type is code: redirect code within URL query string<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  https://app.buildfire.com/api/app/oauth2/callback?code=wrva_ds656f566e_ddd5&amp;state=&quot;{&quot;appId&quot;: &#x27;&#x27;, providerId: &#x27;&#x27;}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>Response type is token: redirect access_token  within URL fragment<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  https://app.buildfire.com/api/app/oauth2/callback#access_token=wrva_ds656f566e_ddd5d&amp;state=&quot;{&quot;appId&quot;: &#x27;&#x27;,             providerId:&#x27;&#x27;}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><p>5- Callback handle query params or fragment that attached to redirect URL.</p><p>6- BuildFire Auth server sends this code to the Authorization Server (token endpoint) along with the application&#x27;s Client ID and Client Secret (Request Access Token).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Request Parameter: </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> client_id&#x27;: &lt;CLINET_ID&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> client_secret&#x27;: &lt;CLINET_ID&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> grant_type&#x27;: &#x27;authorization_code&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> code&#x27;: &#x27;wrva_ds656f566e_ddd5&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> redirect_uri&#x27;:  &#x27;https://app.buildfire.com/app/oauth2/callback&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Request: </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Method: POST</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Host: https://www.example.com/token</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Content-Type: application/x-www-form-urlencoded</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>7- Authorization Server  verifies the code, Client ID, and Client Secret and responds with an Access Token (and optionally, a Refresh Token) to BuildFire Auth server.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Response</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Content-Type: application/json</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;access_token&quot;:&quot;[access_token]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;token_type&quot;:&quot;bearer&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;refresh_token&quot;:&quot;[refresh_token]&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   &quot;expires_in&quot;:43192</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>8- BuildFire Auth server use the Access Token to call an User Info URL to access information about the user.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Request</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Menthod: GET</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Host: https://www.example.com/userinfo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Authorization: Bearer [access token]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Content-Type: application/json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>9- BuildFire Auth server save user info and create session for authenticated user.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Response</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Content-Type: application/json;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     sub: &#x27;545454-54565-6565&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     given_name: &#x27;Moe&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     family_name: &#x27;Hasan&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     name: &#x27;Moe Hasn&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     email: &#x27;moe@gmail.com&#x27; </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   } </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Read more Information about <a href="https://oauth.net/2/" target="_blank" rel="noopener noreferrer">OAuth 2.0</a>. </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="oauth2-prerequisites">OAuth2 Prerequisites<a class="hash-link" href="#oauth2-prerequisites" title="Direct link to heading">​</a></h3><p>To support OAuth2 in our apps there are standard configurations should provide it, and
we can get this configurations form provider side BP (Business Partner) .</p><table><thead><tr><th>Name</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>Authorize URl</code></td><td>yes</td><td>The HTTPS URL where authorization to use OAuth2.0 is started.</td></tr><tr><td><code>Token URL</code></td><td>yes</td><td>The URL where the access token will be requested.</td></tr><tr><td><code>User Info URL</code></td><td>yes</td><td>The URL where the user information will be requested.</td></tr><tr><td><code>Redirect URL</code></td><td>yes</td><td><code>Important</code> The redirect URL that must be saved on the provider side(Business Partner). This redirects the authentication flow back to the platform to complete the initial process.</td></tr><tr><td><code>Client ID</code></td><td>yes</td><td>The client ID generated by provider (Business Partner). This is the public identifier of the application on the provider side.</td></tr><tr><td><code>Client Secret</code></td><td>yes</td><td>The Client Secret generated by provider. This is the shared secret between the application and the provider ensuring the authorization is secure.</td></tr><tr><td><code>Scopes</code></td><td>yes</td><td>A space-delimited list of scopes that identify the resources that your application could access on the user&#x27;s behalf.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-oauth2-sign-in-integration">Setup OAuth2 Sign In Integration<a class="hash-link" href="#setup-oauth2-sign-in-integration" title="Direct link to heading">​</a></h2><p>To add  OAuth2 Sign In Integration continue with the following steps.</p><ul><li><p>Go to Control Panel (CP) app.</p></li><li><p>From side menu under <code>Security</code> nav, Open Login Screen page.</p></li><li><p>Navigate to <code>Settings</code> tab.</p></li><li><p>Click on <code>Add Sign In Integration</code> button , then choose <code>OAuth2 Sign In Integration</code>.</p><p><img loading="lazy" alt="Deep Link" src="/assets/images/oauth2_integration_page-5b8c128eecba7c70eacac012d8b7a38c.png" width="712" height="539" class="img_ev3q"></p></li><li><p>Once choose <code>OAuth2 Sign In Integration</code> option, we will see <code>Add OAuth2 Integration</code> dialog.</p><p><img loading="lazy" alt="Deep Link" src="/assets/images/oauth2_integration_input-e5373b6bcbc6c2e7d63d9918a3a04cd2.png" width="483" height="581" class="img_ev3q"></p></li><li><p>Start filling the required fields for <code>Design</code> and <code>Configurations</code> sections.</p></li><li><p>Take care of <code>Extra Important OAuth2  Requirements</code> below.</p></li><li><p><code>Advance</code> section important for mapping user info object keys, more details ofr mapping user info below.</p></li><li><p>Once verify everything is correct, click save;</p></li><li><p>we will see new integration added to Sign In Integrations</p></li></ul><p><strong>Extra Important OAuth2  Requirements</strong></p><table><thead><tr><th>Name</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>Integration Name</code></td><td>yes</td><td>The logical identifier of the integration.</td></tr><tr><td><code>User Info Request Method</code></td><td>yes</td><td>Specify the HTTP request method that used to request user info. The allowed methods are <strong>POST</strong> and <strong>GET</strong>.</td></tr><tr><td><code>User Info Request Body</code></td><td>no</td><td>The HTTP request body fields to request user info if required. <code>Only valid for POST method</code>.</td></tr><tr><td><code>Response Type</code></td><td>yes</td><td>This Control which flow will be used to return the access_token. Using a value of <strong>code</strong> will use the <code>Authorization Code Flow</code> and using a value of <strong>token</strong> will use the <code>Implicit Grant Flow</code>.</td></tr></tbody></table><p><strong>Mapping User Info</strong></p><ul><li><p>The idea here to make BuildFire Auth Server able to read user info object properties responding form the <code>Business Partner</code> server and store it to our users table.</p><p>We can do that in <code>Advanced</code> section during <code>Add OAuth2 integration</code> by filling <code>User Info Object Keys</code> form.</p></li><li><p>User Info Object Keys:</p><table><thead><tr><th>Name</th><th>Default User Object Key</th><th>Description</th></tr></thead><tbody><tr><td><code>Id (sub)</code></td><td>sub</td><td>The unique user identifier,<code>Important</code> we should mapping it correctly, Auth flow will be fail if it&#x27;s found.</td></tr><tr><td><code>Email</code></td><td>email</td><td>User&#x27;s email.</td></tr><tr><td><code>First Name</code></td><td>given_name</td><td>User&#x27;s first name.</td></tr><tr><td><code>Last Name</code></td><td>family_name</td><td>User&#x27;s last name.</td></tr><tr><td><code>Display Name</code></td><td>name</td><td>User&#x27;s display name.</td></tr></tbody></table></li><li><p>We can set default <code>User Info Object Keys</code>  based on <code>Business Partner</code> server&#x27;s response for User Info.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="after-authorization">After authorization<a class="hash-link" href="#after-authorization" title="Direct link to heading">​</a></h2><p>We will store BP&#x27;s authorization token with the user (in a oauth2Integration object) and issue our own access token to access BuildFire resources. This will allow for backward compatibility. The user will now be able to use the BuildFire app as a login user. In a plugin, you can call <code>buildfire.auth.getCurrentUser()</code> <a href="/docs/auth#getcurrentuser">see more here</a> and it will return the oauth2Integration object in the user object as <code>oauthProfile</code> <a href="/docs/auth#user">see more here</a> . This will allow the app and any plugins to make API calls to BP&#x27;s resources. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">​</a></h2><p>Here is an example to add OAuth2 GitHub Integration.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="design">Design<a class="hash-link" href="#design" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="Deep Link" src="/assets/images/oauth2_integration_input_design-8a20c73c39954043a6f5d91640dc797b.png" width="546" height="377" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="configurations">Configurations<a class="hash-link" href="#configurations" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="Deep Link" src="/assets/images/oauth2_integration_input_config1-ffb8a3c0cf76b21f1314623256674b65.png" width="457" height="529" class="img_ev3q"></p><p><img loading="lazy" alt="Deep Link" src="/assets/images/oauth2_integration_input_config2-06c20ee330c5b699cd796789c17de173.png" width="485" height="428" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="advance-mapping-user-info-object-keys-">Advance (Mapping User Info Object Keys )<a class="hash-link" href="#advance-mapping-user-info-object-keys-" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="Deep Link" src="/assets/images/oauth2_integration_input_adv-d3e325cc47475a50f1fd60df3f671f4b.png" width="482" height="578" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/using-single-sign-on-sso"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Using Single Sign On (SSO)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/public-apis"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Public HTTP APIs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#authorization-flow" class="table-of-contents__link toc-highlight">Authorization Flow</a><ul><li><a href="#oauth2-prerequisites" class="table-of-contents__link toc-highlight">OAuth2 Prerequisites</a></li></ul></li><li><a href="#setup-oauth2-sign-in-integration" class="table-of-contents__link toc-highlight">Setup OAuth2 Sign In Integration</a></li><li><a href="#after-authorization" class="table-of-contents__link toc-highlight">After authorization</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/plugin-development-guidelines">Guidelines</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/buildfire" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/buildfire" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/channel/UCE-rTKjJx1UmxiHNPtTILdA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://learn.buildfire.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn Buildfire<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://buildfire.com/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Service<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://buildfire.com/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 BuildFire. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.577318b6.js"></script>
<script src="/assets/js/main.8e833c14.js"></script>
</body>
</html>